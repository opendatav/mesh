<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/install-configuration/providers/hashicorp/consul-catalog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Mesh Consul Catalog Documentation | 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/doc/docs/reference/install-configuration/providers/hashicorp/consul-catalog"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mesh Consul Catalog Documentation | 文档中心"><meta data-rh="true" name="description" content="Learn how to use Consul Catalog as a provider for configuration discovery in Mesh Proxy. Read the technical documentation."><meta data-rh="true" property="og:description" content="Learn how to use Consul Catalog as a provider for configuration discovery in Mesh Proxy. Read the technical documentation."><link data-rh="true" rel="icon" href="/doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/doc/docs/reference/install-configuration/providers/hashicorp/consul-catalog"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/reference/install-configuration/providers/hashicorp/consul-catalog" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/reference/install-configuration/providers/hashicorp/consul-catalog" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"动态配置管理","item":"https://github.com/doc/docs/category/动态配置管理"},{"@type":"ListItem","position":2,"name":"Mesh Consul Catalog Documentation","item":"https://github.com/doc/docs/reference/install-configuration/providers/hashicorp/consul-catalog"}]}</script><link rel="alternate" type="application/rss+xml" href="/doc/blog/rss.xml" title="文档中心 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/doc/blog/atom.xml" title="文档中心 Atom Feed"><link rel="stylesheet" href="/doc/assets/css/styles.2eab34b2.css">
<script src="/doc/assets/js/runtime~main.2bae97f1.js" defer="defer"></script>
<script src="/doc/assets/js/main.1caca4db.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/doc/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc/"><div class="navbar__logo"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">金融服务网关</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc/docs/intro">使用文档</a><a class="navbar__item navbar__link" href="/doc/blog">技术博客</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/intro">快速指引</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/开始使用">开始使用</a><button aria-label="Expand sidebar category &#x27;开始使用&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/doc/docs/category/动态配置管理">动态配置管理</a><button aria-label="Collapse sidebar category &#x27;动态配置管理&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/dynamic-configuration/consul-catalog">dynamic-configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/doc/docs/reference/install-configuration/api-dashboard">install-configuration</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/api-dashboard">Mesh API &amp; Dashboard Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/boot-environment">Mesh Configuration Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/cli-options-list">cli-options-list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/entrypoints">Mesh EntryPoints Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/observability/healthcheck">observability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/doc/docs/reference/install-configuration/providers/docker">providers</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/providers/docker">Mesh Docker Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/doc/docs/reference/install-configuration/providers/hashicorp/consul-catalog">hashicorp</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc/docs/reference/install-configuration/providers/hashicorp/consul-catalog">Mesh Consul Catalog Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/providers/hashicorp/consul">Mesh Consul Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/providers/hashicorp/nomad">Nomad Service Discovery</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/providers/kubernetes/kubernetes-crd">kubernetes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/providers/kv/consul">kv</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/providers/others/ecs">others</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/providers/overview">Mesh Providers Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/providers/swarm">Mesh Docker Swarm Documentation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/tls/certificate-resolvers/acme">tls</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/routing-configuration/dynamic-configuration-methods">routing-configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/static-configuration/cli-ref">static-configuration</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/路由和负载均衡">路由和负载均衡</a><button aria-label="Expand sidebar category &#x27;路由和负载均衡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/代码贡献">代码贡献</a><button aria-label="Expand sidebar category &#x27;代码贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/版本兼容">版本兼容</a><button aria-label="Expand sidebar category &#x27;版本兼容&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/https协议">HTTPS协议</a><button aria-label="Expand sidebar category &#x27;HTTPS协议&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/includes/kubernetes-requirements">includes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/">Mesh Proxy Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/middlewares/http/addprefix">middlewares</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/observability/access-logs">observability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/operations/api">operations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/plugins/">Mesh Plugins Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/providers/consul-catalog">providers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/security/content-length">security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/user-guides/cert-manager">user-guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/doc/docs/category/动态配置管理"><span>动态配置管理</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">install-configuration</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">providers</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">hashicorp</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Mesh Consul Catalog Documentation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Mesh &amp; Consul Catalog</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example">Configuration Example<a href="#configuration-example" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h2>
<p>You can enable the Consul Catalog provider as detailed below:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">providers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">consulCatalog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[providers.consulCatalog]</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--providers.consulcatalog=true</span><br></span></code></pre></div></div>
<p>Attaching tags to services:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Mesh.http.routers.my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">router.rule=Host(`example.com`)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration Options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h2>
<table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th><th style="text-align:left">Required</th></tr></thead><tbody><tr><td style="text-align:left"><code>providers.providersThrottleDuration</code></td><td style="text-align:left">Minimum amount of time to wait for, after a configuration reload, before taking into account any new configuration refresh event.<br>If multiple events occur within this time, only the most recent one is taken into account, and all others are discarded.<br><strong>This option cannot be set per provider, but the throttling algorithm applies to each of them independently.</strong></td><td style="text-align:left">2s</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.refreshInterval</code></td><td style="text-align:left">Defines the polling interval.</td><td style="text-align:left">15s</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.prefix</code></td><td style="text-align:left">Defines the prefix for Consul Catalog tags defining Mesh labels.</td><td style="text-align:left">Mesh</td><td style="text-align:left">yes</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.requireConsistent</code></td><td style="text-align:left">Forces the read to be fully consistent. See <a href="#requireconsistent">here</a> for more information.</td><td style="text-align:left">false</td><td style="text-align:left">yes</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.exposedByDefault</code></td><td style="text-align:left">Expose Consul Catalog services by default in Mesh. If set to <code>false</code>, services that do not have a <code>Mesh.enable=true</code> tag will be ignored from the resulting routing configuration. See <a href="/doc/docs/reference/install-configuration/providers/overview#restrict-the-scope-of-service-discovery">here</a>.</td><td style="text-align:left">true</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.defaultRule</code></td><td style="text-align:left">The Default Host rule for all services. See <a href="#defaultrule">here</a> for more information.</td><td style="text-align:left"><code>&quot;Host(`{{ normalize .Name }}`)&quot;</code></td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.connectAware</code></td><td style="text-align:left">Enable Consul Connect support. If set to <code>true</code>, Mesh will be enabled to communicate with Connect services.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.connectByDefault</code></td><td style="text-align:left">Consider every service as Connect capable by default. If set to true, Mesh will consider every Consul Catalog service to be Connect capable by default. The option can be overridden on an instance basis with the Mesh.consulcatalog.connect tag.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.serviceName</code></td><td style="text-align:left">Defines the name of the Mesh service in Consul Catalog.</td><td style="text-align:left">&quot;Mesh&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.constraints</code></td><td style="text-align:left">Defines an expression that Mesh matches against the container labels to determine whether to create any route for that container. See <a href="#constraints">here</a> for more information.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.namespaces</code></td><td style="text-align:left">Defines the namespaces to query. See <a href="#namespaces">here</a> for more information.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.stale</code></td><td style="text-align:left">Instruct Mesh to use stale consistency for catalog reads.</td><td style="text-align:left">false</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.cache</code></td><td style="text-align:left">Instruct Mesh to use local agent caching for catalog reads.</td><td style="text-align:left">false</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint</code></td><td style="text-align:left">Defines the Consul server endpoint.</td><td style="text-align:left">-</td><td style="text-align:left">yes</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.address</code></td><td style="text-align:left">Defines the address of the Consul server.</td><td style="text-align:left">127.0.0.1:8500</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.scheme</code></td><td style="text-align:left">Defines the URI scheme for the Consul server.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.datacenter</code></td><td style="text-align:left">Defines the datacenter to use. If not provided in Mesh, Consul uses the default agent datacenter.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.token</code></td><td style="text-align:left">Defines a per-request ACL token which overwrites the agent&#x27;s default token.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.endpointWaitTime</code></td><td style="text-align:left">Defines a duration for which a <code>watch</code> can block. If not provided, the agent default values will be used.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.httpAuth</code></td><td style="text-align:left">Defines authentication settings for the HTTP client using HTTP Basic Authentication.</td><td style="text-align:left">N/A</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.httpAuth.username</code></td><td style="text-align:left">Defines the username to use for HTTP Basic Authentication.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.endpoint.httpAuth.password</code></td><td style="text-align:left">Defines the password to use for HTTP Basic Authentication.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.strictChecks</code></td><td style="text-align:left">Define which <a href="https://developer.hashicorp.com/consul/docs/services/usage/checks#define-initial-health-check-status" target="_blank" rel="noopener noreferrer">Consul Service health checks</a> are allowed to take on traffic.</td><td style="text-align:left">&quot;passing,warning&quot;</td><td style="text-align:left">no</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.tls.ca</code></td><td style="text-align:left">Defines the path to the certificate authority used for the secure connection to Consul Calatog, it defaults to the system bundle.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.tls.cert</code></td><td style="text-align:left">Defines the path to the public certificate used for the secure connection to Consul Calatog. When using this option, setting the <code>key</code> option is required.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.tls.key</code></td><td style="text-align:left">Defines the path to the private key used for the secure connection to Consul Catalog. When using this option, setting the <code>cert</code> option is required.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.tls.insecureSkipVerify</code></td><td style="text-align:left">Instructs the provider to accept any certificate presented by Consul Catalog when establishing a TLS connection, regardless of the hostnames the certificate covers.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>providers.consulCatalog.watch</code></td><td style="text-align:left">When set to <code>true</code>, watches for Consul changes (<a href="https://www.consul.io/docs/dynamic-app-config/watches#checks" target="_blank" rel="noopener noreferrer">Consul watches checks</a>).</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requireconsistent"><code>requireConsistent</code><a href="#requireconsistent" class="hash-link" aria-label="Direct link to requireconsistent" title="Direct link to requireconsistent">​</a></h3>
<p>Forces the read to be fully consistent. Setting this option can be expensive due to an extra round-trip but prevents ever performing a stale read.</p>
<p>For more information, see the Consul <a href="https://www.consul.io/api-docs/features/consistency" target="_blank" rel="noopener noreferrer">documentation on consistency</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defaultrule"><code>defaultRule</code><a href="#defaultrule" class="hash-link" aria-label="Direct link to defaultrule" title="Direct link to defaultrule">​</a></h3>
<p>The default host rule for all services.</p>
<p>For a given service, if no routing rule was defined by a tag, it is defined by this <code>defaultRule</code> instead.
The <code>defaultRule</code> must be set to a valid <a href="https://pkg.go.dev/text/template/" target="_blank" rel="noopener noreferrer">Go template</a>,
and can include <a href="https://masterminds.github.io/sprig/" target="_blank" rel="noopener noreferrer">sprig template functions</a>.
The service name can be accessed with the <code>Name</code> identifier,
and the template has access to all the labels (i.e. tags beginning with the <code>prefix</code>) defined on this service.</p>
<p>The option can be overridden on an instance basis with the <code>Mesh.http.routers.{name-of-your-choice}.rule</code> tag.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">providers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">consulCatalog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">defaultRule</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Host(`{{ .Name }}.{{ index .Labels \&quot;customLabel\&quot;}}`)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[providers.consulCatalog]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  defaultRule = &quot;Host(`{{ .Name }}.{{ index .Labels \&quot;customLabel\&quot;}}`)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # ...</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--providers.consulcatalog.defaultRule=&quot;Host(`{{ .Name }}.{{ index .Labels \&quot;customLabel\&quot;}}`)&quot;</span><br></span></code></pre></div></div>
<p>??? info &quot;Default rule and Mesh service&quot;</p>
<p>The exposure of the Mesh container, combined with the default rule mechanism,
can lead to create a router targeting itself in a loop.
In this case, to prevent an infinite loop,
Mesh adds an internal middleware to refuse the request if it comes from the same router.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraints"><code>constraints</code><a href="#constraints" class="hash-link" aria-label="Direct link to constraints" title="Direct link to constraints">​</a></h3>
<p>The <code>constraints</code> option can be set to an expression that Mesh matches against the service tags to determine whether
to create any route for that service. If none of the service tags match the expression, no route for that service is
created. If the expression is empty, all detected services are included.</p>
<p>The expression syntax is based on the <code>Tag(`tag`)</code>, and <code>TagRegex(`tag`)</code> functions,
as well as the usual boolean logic, as shown in examples below.</p>
<p>??? example &quot;Constraints Expression Examples&quot;</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Includes only services having the tag `a.tag.name=foo`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constraints = &quot;Tag(`a.tag.name=foo`)&quot;</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Excludes services having any tag `a.tag.name=foo`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constraints = &quot;!Tag(`a.tag.name=foo`)&quot;</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># With logical AND.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constraints = &quot;Tag(`a.tag.name`) &amp;&amp; Tag(`another.tag.name`)&quot;</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># With logical OR.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constraints = &quot;Tag(`a.tag.name`) || Tag(`another.tag.name`)&quot;</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># With logical AND and OR, with precedence set by parentheses.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constraints = &quot;Tag(`a.tag.name`) &amp;&amp; (Tag(`another.tag.name`) || Tag(`yet.another.tag.name`))&quot;</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Includes only services having a tag matching the `a\.tag\.t.+` regular expression.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">constraints = &quot;TagRegex(`a\.tag\.t.+`)&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">providers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">consulCatalog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">constraints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Tag(`a.tag.name`)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[providers.consulCatalog]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  constraints = &quot;Tag(`a.tag.name`)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # ...</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--providers.consulcatalog.constraints=&quot;Tag(`a.tag.name`)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ...</span><br></span></code></pre></div></div>
<p>For additional information, refer to <a href="/doc/docs/reference/install-configuration/providers/overview#restrict-the-scope-of-service-discovery">Restrict the Scope of Service Discovery</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="namespaces"><code>namespaces</code><a href="#namespaces" class="hash-link" aria-label="Direct link to namespaces" title="Direct link to namespaces">​</a></h3>
<p>The <code>namespaces</code> option defines the namespaces in which the consul catalog services will be discovered.
When using the <code>namespaces</code> option, the discovered configuration object names will be suffixed as shown below:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;resource-name&gt;@consulcatalog-&lt;namespace&gt;</span><br></span></code></pre></div></div>
<p>!!! warning</p>
<ul>
<li>
<p>The namespaces option only works with <a href="https://www.consul.io/docs/enterprise" target="_blank" rel="noopener noreferrer">Consul Enterprise</a>,
which provides the <a href="https://www.consul.io/docs/enterprise/namespaces" target="_blank" rel="noopener noreferrer">Namespaces</a> feature.</p>
</li>
<li>
<p>One should only define either the <code>namespaces</code> option or the <code>namespace</code> option.</p>
</li>
</ul>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">providers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">consulCatalog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespaces</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ns1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ns2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[providers.consulCatalog]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespaces = [&quot;ns1&quot;, &quot;ns2&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # ...</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--providers.consulcatalog.namespaces=ns1,ns2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ...</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="routing-configuration">Routing Configuration<a href="#routing-configuration" class="hash-link" aria-label="Direct link to Routing Configuration" title="Direct link to Routing Configuration">​</a></h2>
<p>See the dedicated section in <a href="/doc/docs/routing/providers/consul-catalog">routing</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/reference/install-configuration/providers/hashicorp/consul-catalog.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc/docs/reference/install-configuration/providers/docker"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Mesh Docker Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc/docs/reference/install-configuration/providers/hashicorp/consul"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mesh Consul Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration-example" class="table-of-contents__link toc-highlight">Configuration Example</a></li><li><a href="#configuration-options" class="table-of-contents__link toc-highlight">Configuration Options</a><ul><li><a href="#requireconsistent" class="table-of-contents__link toc-highlight"><code>requireConsistent</code></a></li><li><a href="#defaultrule" class="table-of-contents__link toc-highlight"><code>defaultRule</code></a></li><li><a href="#constraints" class="table-of-contents__link toc-highlight"><code>constraints</code></a></li><li><a href="#namespaces" class="table-of-contents__link toc-highlight"><code>namespaces</code></a></li></ul></li><li><a href="#routing-configuration" class="table-of-contents__link toc-highlight">Routing Configuration</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">其他</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Mesh, Inc. Built with Mesh.</div></div></div></footer></div>
</body>
</html>