<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/install-configuration/observability/metrics" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Mesh Metrics Overview | 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/doc/docs/reference/install-configuration/observability/metrics"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mesh Metrics Overview | 文档中心"><meta data-rh="true" name="description" content="Mesh Proxy supports these metrics backend systems: OpenTelemetry, Datadog, InfluxDB 2.X, Prometheus, and StatsD. Read the full documentation to get started."><meta data-rh="true" property="og:description" content="Mesh Proxy supports these metrics backend systems: OpenTelemetry, Datadog, InfluxDB 2.X, Prometheus, and StatsD. Read the full documentation to get started."><link data-rh="true" rel="icon" href="/doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/doc/docs/reference/install-configuration/observability/metrics"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/reference/install-configuration/observability/metrics" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/reference/install-configuration/observability/metrics" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"动态配置管理","item":"https://github.com/doc/docs/category/动态配置管理"},{"@type":"ListItem","position":2,"name":"Mesh Metrics Overview","item":"https://github.com/doc/docs/reference/install-configuration/observability/metrics"}]}</script><link rel="alternate" type="application/rss+xml" href="/doc/blog/rss.xml" title="文档中心 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/doc/blog/atom.xml" title="文档中心 Atom Feed"><link rel="stylesheet" href="/doc/assets/css/styles.2eab34b2.css">
<script src="/doc/assets/js/runtime~main.2bae97f1.js" defer="defer"></script>
<script src="/doc/assets/js/main.1caca4db.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/doc/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc/"><div class="navbar__logo"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">金融服务网关</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc/docs/intro">使用文档</a><a class="navbar__item navbar__link" href="/doc/blog">技术博客</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/intro">快速指引</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/开始使用">开始使用</a><button aria-label="Expand sidebar category &#x27;开始使用&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/doc/docs/category/动态配置管理">动态配置管理</a><button aria-label="Collapse sidebar category &#x27;动态配置管理&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/dynamic-configuration/consul-catalog">dynamic-configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/doc/docs/reference/install-configuration/api-dashboard">install-configuration</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/api-dashboard">Mesh API &amp; Dashboard Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/boot-environment">Mesh Configuration Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/cli-options-list">cli-options-list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/entrypoints">Mesh EntryPoints Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/doc/docs/reference/install-configuration/observability/healthcheck">observability</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/observability/healthcheck">Mesh Health Check Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/observability/logs-and-accesslogs">Mesh Logs Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc/docs/reference/install-configuration/observability/metrics">Mesh Metrics Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/observability/options-list">options-list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/observability/tracing">Mesh Tracing Overview</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/providers/docker">providers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/tls/certificate-resolvers/acme">tls</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/routing-configuration/dynamic-configuration-methods">routing-configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/static-configuration/cli-ref">static-configuration</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/路由和负载均衡">路由和负载均衡</a><button aria-label="Expand sidebar category &#x27;路由和负载均衡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/代码贡献">代码贡献</a><button aria-label="Expand sidebar category &#x27;代码贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/版本兼容">版本兼容</a><button aria-label="Expand sidebar category &#x27;版本兼容&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/https协议">HTTPS协议</a><button aria-label="Expand sidebar category &#x27;HTTPS协议&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/includes/kubernetes-requirements">includes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/">Mesh Proxy Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/middlewares/http/addprefix">middlewares</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/observability/access-logs">observability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/operations/api">operations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/plugins/">Mesh Plugins Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/providers/consul-catalog">providers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/security/content-length">security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/user-guides/cert-manager">user-guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/doc/docs/category/动态配置管理"><span>动态配置管理</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">install-configuration</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">observability</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Mesh Metrics Overview</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Metrics</h1></header>
<p>Mesh provides metrics in the <a href="#open-telemetry">OpenTelemetry</a> format as well as the following vendor specific backends:</p>
<ul>
<li><a href="#datadog">Datadog</a></li>
<li><a href="#influxdb-v2">InfluxDB2</a></li>
<li><a href="#prometheus">Prometheus</a></li>
<li><a href="#statsd">StatsD</a></li>
</ul>
<p>Mesh Proxy has an official Grafana dashboard for both <a href="https://grafana.com/grafana/dashboards/17346" target="_blank" rel="noopener noreferrer">on-premises</a>
and <a href="https://grafana.com/grafana/dashboards/17347" target="_blank" rel="noopener noreferrer">Kubernetes</a> deployments.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="open-telemetry">Open Telemetry<a href="#open-telemetry" class="hash-link" aria-label="Direct link to Open Telemetry" title="Direct link to Open Telemetry">​</a></h2>
<p>!!! info &quot;Default protocol&quot;</p>
<p>The OpenTelemetry exporter will export metrics to the collector using HTTP by default to <a href="https://localhost:4318/v1/metrics" target="_blank" rel="noopener noreferrer">https://localhost:4318/v1/metrics</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example">Configuration Example<a href="#configuration-example" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h3>
<p>To enable the OpenTelemetry metrics:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">otlp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[metrics]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [metrics.otlp]</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--metrics.otlp=true</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># values.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Disable Prometheus (enabled by default)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">prometheus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Enable providing OTel metrics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">otlp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<p>!!! tip &quot;Helm Chart Configuration&quot;</p>
<p>Mesh can be configured to provide metrics in the OpenTelemetry format using the Helm Chart values.
To know more about the Helm Chart options, refer to the <a href="https://github.com/Mesh/mesh-helm-chart/blob/master/Mesh/VALUES.md" target="_blank" rel="noopener noreferrer">Helm Chart</a> (Find options <code>metrics.otlp</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration Options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h3>
<table><thead><tr><th style="text-align:left">Field</th><th>Description</th><th style="text-align:left">Default</th><th style="text-align:left">Required</th></tr></thead><tbody><tr><td style="text-align:left"><code>metrics.addInternals</code></td><td>Enables metrics for internal resources (e.g.: <code>ping@internal</code>).</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.addEntryPointsLabels</code></td><td>Enable metrics on entry points.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.addRoutersLabels</code></td><td>Enable metrics on routers.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.addServicesLabels</code></td><td>Enable metrics on services.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.explicitBoundaries</code></td><td>Explicit boundaries for Histogram data points.</td><td style="text-align:left">&quot;.005, .01, .025, .05, .1, .25, .5, 1, 2.5, 5, 10&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.pushInterval</code></td><td>Interval at which metrics are sent to the OpenTelemetry Collector.</td><td style="text-align:left">10s</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http</code></td><td>This instructs the exporter to send the metrics to the OpenTelemetry Collector using HTTP.<br> Setting the sub-options with their default values.</td><td style="text-align:left">null/false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http.endpoint</code></td><td>URL of the OpenTelemetry Collector to send metrics to.<br> Format=&quot;<code>&lt;scheme&gt;://&lt;host&gt;:&lt;port&gt;&lt;path&gt;</code>&quot;</td><td style="text-align:left">&quot;<a href="http://localhost:4318/v1/metrics" target="_blank" rel="noopener noreferrer">http://localhost:4318/v1/metrics</a>&quot;</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http.headers</code></td><td>Additional headers sent with metrics by the exporter to the OpenTelemetry Collector.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http.tls.ca</code></td><td>Path to the certificate authority used for the secure connection to the OpenTelemetry Collector,<br>it defaults to the system bundle.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http.tls.cert</code></td><td>Path to the public certificate used for the secure connection to the OpenTelemetry Collector.<br>When using this option, setting the <code>key</code> option is required.</td><td style="text-align:left">&quot;&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http.tls.key</code></td><td>This instructs the exporter to send the metrics to the OpenTelemetry Collector using HTTP.<br> Setting the sub-options with their default values.</td><td style="text-align:left">null/false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http.tls.insecureskipverify</code></td><td>Allow the TLS connection to the OpenTelemetry Collector accepts any certificate presented by the server regardless of the hostnames it covers.</td><td style="text-align:left">false</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.otlp.grpc</code></td><td>This instructs the exporter to send metrics to the OpenTelemetry Collector using gRPC.</td><td style="text-align:left">null/false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.grpc.endpoint</code></td><td>Address of the OpenTelemetry Collector to send metrics to.<br> Format=&quot;<code>&lt;host&gt;:&lt;port&gt;</code>&quot;</td><td style="text-align:left">&quot;localhost:4317&quot;</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.otlp.grpc.headers</code></td><td>Additional headers sent with metrics by the exporter to the OpenTelemetry Collector.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.http.grpc.insecure</code></td><td>Allows exporter to send metrics to the OpenTelemetry Collector without using a secured protocol.</td><td style="text-align:left">false</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.otlp.grpc.tls.ca</code></td><td>Path to the certificate authority used for the secure connection to the OpenTelemetry Collector,<br>it defaults to the system bundle.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.grpc.tls.cert</code></td><td>Path to the public certificate used for the secure connection to the OpenTelemetry Collector.<br>When using this option, setting the <code>key</code> option is required.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.grpc.tls.key</code></td><td>This instructs the exporter to send the metrics to the OpenTelemetry Collector using HTTP.<br> Setting the sub-options with their default values.</td><td style="text-align:left">null/false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.otlp.grpc.tls.insecureskipverify</code></td><td>Allow the TLS connection to the OpenTelemetry Collector accepts any certificate presented by the server regardless of the hostnames it covers.</td><td style="text-align:left">false</td><td style="text-align:left">Yes</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vendors">Vendors<a href="#vendors" class="hash-link" aria-label="Direct link to Vendors" title="Direct link to Vendors">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="datadog">Datadog<a href="#datadog" class="hash-link" aria-label="Direct link to Datadog" title="Direct link to Datadog">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example-1">Configuration Example<a href="#configuration-example-1" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h4>
<p>To enable the Datadog:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">datadog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[metrics]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [metrics.datadog]</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--metrics.datadog=true</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options-1">Configuration Options<a href="#configuration-options-1" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h4>
<table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th><th style="text-align:left">Required</th></tr></thead><tbody><tr><td style="text-align:left"><code>metrics.addInternals</code></td><td style="text-align:left">Enables metrics for internal resources (e.g.: <code>ping@internal</code>).</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>datadog.address</code></td><td style="text-align:left">Defines the address for the exporter to send metrics to datadog-agent. More information <a href="#address">here</a></td><td style="text-align:left"><code>127.0.0.1:8125</code></td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>datadog.addEntryPointsLabels</code></td><td style="text-align:left">Enable metrics on entry points.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>datadog.addRoutersLabels</code></td><td style="text-align:left">Enable metrics on routers.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>datadog.addServicesLabels</code></td><td style="text-align:left">Enable metrics on services.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>datadog.pushInterval</code></td><td style="text-align:left">Defines the interval used by the exporter to push metrics to datadog-agent.</td><td style="text-align:left">10s</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>datadog.prefix</code></td><td style="text-align:left">Defines the prefix to use for metrics collection.</td><td style="text-align:left">&quot;Mesh&quot;</td><td style="text-align:left">No</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="address"><code>address</code><a href="#address" class="hash-link" aria-label="Direct link to address" title="Direct link to address">​</a></h5>
<p>Address instructs exporter to send metrics to datadog-agent at this address.</p>
<p>This address can be a Unix Domain Socket (UDS) in the following format: <code>unix:///path/to/datadog.socket</code>.
When the prefix is set to <code>unix</code>, the socket type will be automatically determined.
To explicitly define the socket type and avoid automatic detection, you can use the prefixes <code>unixgram</code> for <code>SOCK_DGRAM</code> (datagram sockets) and <code>unixstream</code> for <code>SOCK_STREAM</code> (stream sockets), respectively.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">datadog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8125</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[metrics]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [metrics.datadog]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    address = &quot;127.0.0.1:8125&quot;</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--metrics.datadog.address=127.0.0.1:8125</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="influxdb-v2">InfluxDB v2<a href="#influxdb-v2" class="hash-link" aria-label="Direct link to InfluxDB v2" title="Direct link to InfluxDB v2">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example-2">Configuration Example<a href="#configuration-example-2" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h4>
<p>To enable the InfluxDB2:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">influxDB2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8086</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[metrics]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [metrics.influxDB2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    address: http://localhost:8086</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--metrics.influxdb2=true</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options-2">Configuration Options<a href="#configuration-options-2" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h4>
<table><thead><tr><th style="text-align:left">Field</th><th>Description</th><th style="text-align:left">Default</th><th style="text-align:left">Required</th></tr></thead><tbody><tr><td style="text-align:left"><code>metrics.addInternal</code></td><td>Enables metrics for internal resources (e.g.: <code>ping@internal</code>).</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.addEntryPointsLabels</code></td><td>Enable metrics on entry points.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.addRoutersLabels</code></td><td>Enable metrics on routers.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.addServicesLabels</code></td><td>Enable metrics on services.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.additionalLabels</code></td><td>Additional labels (InfluxDB tags) on all metrics.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.pushInterval</code></td><td>The interval used by the exporter to push metrics to InfluxDB server.</td><td style="text-align:left">10s</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.address</code></td><td>Address of the InfluxDB v2 instance.</td><td style="text-align:left">&quot;<a href="http://localhost:8086" target="_blank" rel="noopener noreferrer">http://localhost:8086</a>&quot;</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.token</code></td><td>Token with which to connect to InfluxDB v2.</td><td style="text-align:left">-</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.org</code></td><td>Organisation where metrics will be stored.</td><td style="text-align:left">-</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.influxDB2.bucket</code></td><td>Bucket where metrics will be stored.</td><td style="text-align:left">-</td><td style="text-align:left">Yes</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus">Prometheus<a href="#prometheus" class="hash-link" aria-label="Direct link to Prometheus" title="Direct link to Prometheus">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example-3">Configuration Example<a href="#configuration-example-3" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h4>
<p>To enable the Prometheus:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">prometheus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">buckets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5.0</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[metrics]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [metrics.prometheus]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [metrics.prometheus.buckets]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - 0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - 0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - 1.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - 5.0</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--metrics.prometheus=true</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options-3">Configuration Options<a href="#configuration-options-3" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h4>
<table><thead><tr><th style="text-align:left">Field</th><th>Description</th><th style="text-align:left">Default</th><th style="text-align:left">Required</th></tr></thead><tbody><tr><td style="text-align:left"><code>metrics.prometheus.addInternals</code></td><td>Enables metrics for internal resources (e.g.: <code>ping@internals</code>).</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.prometheus.addEntryPointsLabels</code></td><td>Enable metrics on entry points.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.prometheus.addRoutersLabels</code></td><td>Enable metrics on routers.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.prometheus.addServicesLabels</code></td><td>Enable metrics on services.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.prometheus.buckets</code></td><td>Buckets for latency metrics.</td><td style="text-align:left">&quot;0.100000, 0.300000, 1.200000, 5.000000&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.prometheus.manualRouting</code></td><td>Set to <em>true</em>, it disables the default internal router in order to allow creating a custom router for the <code>prometheus@internal</code> service.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.prometheus.entryPoint</code></td><td>Mesh Entrypoint name used to expose metrics.</td><td style="text-align:left">&quot;Mesh&quot;</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.prometheus.headerLabels</code></td><td>Defines extra labels extracted from request headers for the <code>requests_total</code> metrics.<br>More information <a href="#headerlabels">here</a>.</td><td style="text-align:left"></td><td style="text-align:left">Yes</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="headerlabels">headerLabels<a href="#headerlabels" class="hash-link" aria-label="Direct link to headerLabels" title="Direct link to headerLabels">​</a></h5>
<p>Defines the extra labels for the <code>requests_total</code> metrics, and for each of them, the request header containing the value for this label.
If the header is not present in the request it will be added nonetheless with an empty value.
The label must be a valid label name for Prometheus metrics, otherwise, the Prometheus metrics provider will fail to serve any mesh-related metric.</p>
<p>!!! note &quot;How to provide the <code>Host</code> header value&quot;
The <code>Host</code> header is never present in the Header map of a request, as per go documentation says:</p>
<div class="language-Golang language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// For incoming requests, the Host header is promoted to the</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Request.Host field and removed from the Header map.</span><br></span></code></pre></div></div>
<p>As a workaround, to obtain the Host of a request as a label, use instead the <code>X-Forwarded-Host</code> header.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example-4">Configuration Example<a href="#configuration-example-4" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h6>
<p>Here is an example of the entryPoint <code>requests_total</code> metric with an additional &quot;useragent&quot; label.</p>
<p>When configuring the label in Static Configuration:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># static_configuration.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">prometheus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">headerLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">useragent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Agent</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -H &quot;User-Agent: foobar&quot; http://localhost</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Mesh_entrypoint_requests_total\{code=&quot;200&quot;,entrypoint=&quot;web&quot;,method=&quot;GET&quot;,protocol=&quot;http&quot;,useragent=&quot;foobar&quot;\} 1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="statsd">StatsD<a href="#statsd" class="hash-link" aria-label="Direct link to StatsD" title="Direct link to StatsD">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example-5">Configuration Example<a href="#configuration-example-5" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h4>
<p>To enable the Statsd:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">statsD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8125</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[metrics]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [metrics.statsD]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    address: localhost:8125</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--metrics.statsd=true</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options-4">Configuration Options<a href="#configuration-options-4" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h4>
<table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th><th style="text-align:left">Required</th></tr></thead><tbody><tr><td style="text-align:left"><code>metrics.addInternals</code></td><td style="text-align:left">Enables metrics for internal resources (e.g.: <code>ping@internals</code>).</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.statsD.addEntryPointsLabels</code></td><td style="text-align:left">Enable metrics on entry points.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.statsD.addRoutersLabels</code></td><td style="text-align:left">Enable metrics on routers.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.statsD.addServicesLabels</code></td><td style="text-align:left">Enable metrics on services.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.statsD.pushInterval</code></td><td style="text-align:left">The interval used by the exporter to push metrics to DataDog server.</td><td style="text-align:left">10s</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics.statsD.address</code></td><td style="text-align:left">Address instructs exporter to send metrics to statsd at this address.</td><td style="text-align:left">&quot;127.0.0.1:8125&quot;</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>metrics.statsD.prefix</code></td><td style="text-align:left">The prefix to use for metrics collection.</td><td style="text-align:left">&quot;Mesh&quot;</td><td style="text-align:left">No</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-provided">Metrics Provided<a href="#metrics-provided" class="hash-link" aria-label="Direct link to Metrics Provided" title="Direct link to Metrics Provided">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="global-metrics">Global Metrics<a href="#global-metrics" class="hash-link" aria-label="Direct link to Global Metrics" title="Direct link to Global Metrics">​</a></h3>
<p>=== &quot;OpenTelemetry&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_config_reloads_total</code></td><td>Count</td><td></td><td>The total count of configuration reloads.</td></tr><tr><td><code>Mesh_config_last_reload_success</code></td><td>Gauge</td><td></td><td>The timestamp of the last configuration reload success.</td></tr><tr><td><code>Mesh_open_connections</code></td><td>Gauge</td><td><code>entrypoint</code>, <code>protocol</code></td><td>The current count of open connections, by entrypoint and protocol.</td></tr><tr><td><code>Mesh_tls_certs_not_after</code></td><td>Gauge</td><td></td><td>The expiration date of certificates.</td></tr></tbody></table>
<p>=== &quot;Prometheus&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_config_reloads_total</code></td><td>Count</td><td></td><td>The total count of configuration reloads.</td></tr><tr><td><code>Mesh_config_last_reload_success</code></td><td>Gauge</td><td></td><td>The timestamp of the last configuration reload success.</td></tr><tr><td><code>Mesh_open_connections</code></td><td>Gauge</td><td><code>entrypoint</code>, <code>protocol</code></td><td>The current count of open connections, by entrypoint and protocol.</td></tr><tr><td><code>Mesh_tls_certs_not_after</code></td><td>Gauge</td><td></td><td>The expiration date of certificates.</td></tr></tbody></table>
<p>=== &quot;Datadog&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>config.reload.total</code></td><td>Count</td><td></td><td>The total count of configuration reloads.</td></tr><tr><td><code>config.reload.lastSuccessTimestamp</code></td><td>Gauge</td><td></td><td>The timestamp of the last configuration reload success.</td></tr><tr><td><code>open.connections</code></td><td>Gauge</td><td><code>entrypoint</code>, <code>protocol</code></td><td>The current count of open connections, by entrypoint and protocol.</td></tr><tr><td><code>tls.certs.notAfterTimestamp</code></td><td>Gauge</td><td></td><td>The expiration date of certificates.</td></tr></tbody></table>
<p>=== &quot;InfluxDB2&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh.config.reload.total</code></td><td>Count</td><td></td><td>The total count of configuration reloads.</td></tr><tr><td><code>Mesh.config.reload.lastSuccessTimestamp</code></td><td>Gauge</td><td></td><td>The timestamp of the last configuration reload success.</td></tr><tr><td><code>Mesh.open.connections</code></td><td>Gauge</td><td><code>entrypoint</code>, <code>protocol</code></td><td>The current count of open connections, by entrypoint and protocol.</td></tr><tr><td><code>Mesh.tls.certs.notAfterTimestamp</code></td><td>Gauge</td><td></td><td>The expiration date of certificates.</td></tr></tbody></table>
<p>=== &quot;StatsD&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>{prefix}.config.reload.total</code></td><td>Count</td><td></td><td>The total count of configuration reloads.</td></tr><tr><td><code>{prefix}.config.reload.lastSuccessTimestamp</code></td><td>Gauge</td><td></td><td>The timestamp of the last configuration reload success.</td></tr><tr><td><code>{prefix}.open.connections</code></td><td>Gauge</td><td><code>entrypoint</code>, <code>protocol</code></td><td>The current count of open connections, by entrypoint and protocol.</td></tr><tr><td><code>{prefix}.tls.certs.notAfterTimestamp</code></td><td>Gauge</td><td></td><td>The expiration date of certificates.</td></tr></tbody></table>
<p>!!! note &quot;{prefix} Default Value&quot;
By default, {prefix} value is <code>Mesh</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="labels">Labels<a href="#labels" class="hash-link" aria-label="Direct link to Labels" title="Direct link to Labels">​</a></h4>
<p>Here is a comprehensive list of labels that are provided by the global metrics:</p>
<table><thead><tr><th>Label</th><th>Description</th><th>example</th></tr></thead><tbody><tr><td><code>entrypoint</code></td><td>Entrypoint that handled the connection</td><td>&quot;example_entrypoint&quot;</td></tr><tr><td><code>protocol</code></td><td>Connection protocol</td><td>&quot;TCP&quot;</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="opentelemetry-semantic-conventions">OpenTelemetry Semantic Conventions<a href="#opentelemetry-semantic-conventions" class="hash-link" aria-label="Direct link to OpenTelemetry Semantic Conventions" title="Direct link to OpenTelemetry Semantic Conventions">​</a></h3>
<p>Mesh Proxy follows <a href="https://github.com/open-telemetry/semantic-conventions/blob/v1.23.1/docs/http/http-metrics.md" target="_blank" rel="noopener noreferrer">official OpenTelemetry semantic conventions v1.23.1</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-server">HTTP Server<a href="#http-server" class="hash-link" aria-label="Direct link to HTTP Server" title="Direct link to HTTP Server">​</a></h4>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>http.server.request.duration</code></td><td>Histogram</td><td><code>error.type</code>, <code>http.request.method</code>, <code>http.response.status_code</code>, <code>network.protocol.name</code>, <code>server.address</code>, <code>server.port</code>, <code>url.scheme</code></td><td>Duration of HTTP server requests</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="labels-1">Labels<a href="#labels-1" class="hash-link" aria-label="Direct link to Labels" title="Direct link to Labels">​</a></h5>
<p>Here is a comprehensive list of labels that are provided by the metrics:</p>
<table><thead><tr><th>Label</th><th>Description</th><th>example</th></tr></thead><tbody><tr><td><code>error.type</code></td><td>Describes a class of error the operation ended with</td><td>&quot;500&quot;</td></tr><tr><td><code>http.request.method</code></td><td>HTTP request method</td><td>&quot;GET&quot;</td></tr><tr><td><code>http.response.status_code</code></td><td>HTTP response status code</td><td>&quot;200&quot;</td></tr><tr><td><code>network.protocol.name</code></td><td>OSI application layer or non-OSI equivalent</td><td>&quot;http/1.1&quot;</td></tr><tr><td><code>network.protocol.version</code></td><td>Version of the protocol specified in <code>network.protocol.name</code></td><td>&quot;1.1&quot;</td></tr><tr><td><code>server.address</code></td><td>Name of the local HTTP server that received the request</td><td>&quot;example.com&quot;</td></tr><tr><td><code>server.port</code></td><td>Port of the local HTTP server that received the request</td><td>&quot;80&quot;</td></tr><tr><td><code>url.scheme</code></td><td>The URI scheme component identifying the used protocol</td><td>&quot;http&quot;</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-client">HTTP Client<a href="#http-client" class="hash-link" aria-label="Direct link to HTTP Client" title="Direct link to HTTP Client">​</a></h4>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>http.client.request.duration</code></td><td>Histogram</td><td><code>error.type</code>, <code>http.request.method</code>, <code>http.response.status_code</code>, <code>network.protocol.name</code>, <code>server.address</code>, <code>server.port</code>, <code>url.scheme</code></td><td>Duration of HTTP client requests</td></tr></tbody></table>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="labels-2">Labels<a href="#labels-2" class="hash-link" aria-label="Direct link to Labels" title="Direct link to Labels">​</a></h5>
<p>Here is a comprehensive list of labels that are provided by the metrics:</p>
<p>| Label  | Description     | example       |
|------  -----|------------|---------------|
| <code>error.type</code>  | Describes a class of error the operation ended with    | &quot;500&quot;   |
| <code>http.request.method</code>       | HTTP request method  | &quot;GET&quot; |
| <code>http.response.status_code</code> | HTTP response status code  | &quot;200&quot; |
| <code>network.protocol.name</code>     | OSI application layer or non-OSI equivalent                  | &quot;http/1.1&quot;    |
| <code>network.protocol.version</code>  | Version of the protocol specified in <code>network.protocol.name</code> | &quot;1.1&quot;         |
| <code>server.address</code>            | Name of the local HTTP server that received the request      | &quot;example.com&quot; |
| <code>server.port</code>               | Port of the local HTTP server that received the request      | &quot;80&quot;          |
| <code>url.scheme</code>                | The URI scheme component identifying the used protocol       | &quot;http&quot;        |</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-metrics">HTTP Metrics<a href="#http-metrics" class="hash-link" aria-label="Direct link to HTTP Metrics" title="Direct link to HTTP Metrics">​</a></h3>
<p>On top of the official OpenTelemetry semantic conventions, Mesh provides its own metrics to monitor the incoming traffic.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="entrypoint-metrics">EntryPoint Metrics<a href="#entrypoint-metrics" class="hash-link" aria-label="Direct link to EntryPoint Metrics" title="Direct link to EntryPoint Metrics">​</a></h4>
<p>=== &quot;OpenTelemetry&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_entrypoint_requests_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total count of HTTP requests received by an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_requests_tls_total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>entrypoint</code></td><td>The total count of HTTPS requests received by an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_request_duration_seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>Request processing duration histogram on an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_requests_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP requests in bytes handled by an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_responses_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP responses in bytes handled by an entrypoint.</td></tr></tbody></table>
<p>=== &quot;Prometheus&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_entrypoint_requests_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total count of HTTP requests received by an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_requests_tls_total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>entrypoint</code></td><td>The total count of HTTPS requests received by an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_request_duration_seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>Request processing duration histogram on an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_requests_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP requests in bytes handled by an entrypoint.</td></tr><tr><td><code>Mesh_entrypoint_responses_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP responses in bytes handled by an entrypoint.</td></tr></tbody></table>
<p>=== &quot;Datadog&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>entrypoint.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total count of HTTP requests received by an entrypoint.</td></tr><tr><td><code>entrypoint.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>entrypoint</code></td><td>The total count of HTTPS requests received by an entrypoint.</td></tr><tr><td><code>entrypoint.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>Request processing duration histogram on an entrypoint.</td></tr><tr><td><code>entrypoint.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP requests in bytes handled by an entrypoint.</td></tr><tr><td><code>entrypoint.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP responses in bytes handled by an entrypoint.</td></tr></tbody></table>
<p>=== &quot;InfluxDB2&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh.entrypoint.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total count of HTTP requests received by an entrypoint.</td></tr><tr><td><code>Mesh.entrypoint.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>entrypoint</code></td><td>The total count of HTTPS requests received by an entrypoint.</td></tr><tr><td><code>Mesh.entrypoint.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>Request processing duration histogram on an entrypoint.</td></tr><tr><td><code>Mesh.entrypoint.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP requests in bytes handled by an entrypoint.</td></tr><tr><td><code>Mesh.entrypoint.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP responses in bytes handled by an entrypoint.</td></tr></tbody></table>
<p>=== &quot;StatsD&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>{prefix}.entrypoint.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total count of HTTP requests received by an entrypoint.</td></tr><tr><td><code>{prefix}.entrypoint.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>entrypoint</code></td><td>The total count of HTTPS requests received by an entrypoint.</td></tr><tr><td><code>{prefix}.entrypoint.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>Request processing duration histogram on an entrypoint.</td></tr><tr><td><code>{prefix}.entrypoint.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP requests in bytes handled by an entrypoint.</td></tr><tr><td><code>{prefix}.entrypoint.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>entrypoint</code></td><td>The total size of HTTP responses in bytes handled by an entrypoint.</td></tr></tbody></table>
<p>!!! note &quot;{prefix} Default Value&quot;
By default, {prefix} value is <code>Mesh</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="router-metrics">Router Metrics<a href="#router-metrics" class="hash-link" aria-label="Direct link to Router Metrics" title="Direct link to Router Metrics">​</a></h4>
<p>=== &quot;OpenTelemetry&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_router_requests_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTP requests handled by a router.</td></tr><tr><td><code>Mesh_router_requests_tls_total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTPS requests handled by a router.</td></tr><tr><td><code>Mesh_router_request_duration_seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>Request processing duration histogram on a router.</td></tr><tr><td><code>Mesh_router_requests_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP requests in bytes handled by a router.</td></tr><tr><td><code>Mesh_router_responses_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP responses in bytes handled by a router.</td></tr></tbody></table>
<p>=== &quot;Prometheus&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_router_requests_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTP requests handled by a router.</td></tr><tr><td><code>Mesh_router_requests_tls_total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTPS requests handled by a router.</td></tr><tr><td><code>Mesh_router_request_duration_seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>Request processing duration histogram on a router.</td></tr><tr><td><code>Mesh_router_requests_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP requests in bytes handled by a router.</td></tr><tr><td><code>Mesh_router_responses_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP responses in bytes handled by a router.</td></tr></tbody></table>
<p>=== &quot;Datadog&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>router.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTP requests handled by a router.</td></tr><tr><td><code>router.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTPS requests handled by a router.</td></tr><tr><td><code>router.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>Request processing duration histogram on a router.</td></tr><tr><td><code>router.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP requests in bytes handled by a router.</td></tr><tr><td><code>router.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP responses in bytes handled by a router.</td></tr></tbody></table>
<p>=== &quot;InfluxDB2&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh.router.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTP requests handled by a router.</td></tr><tr><td><code>Mesh.router.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTPS requests handled by a router.</td></tr><tr><td><code>Mesh.router.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>Request processing duration histogram on a router.</td></tr><tr><td><code>Mesh.router.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP requests in bytes handled by a router.</td></tr><tr><td><code>Mesh.router.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP responses in bytes handled by a router.</td></tr></tbody></table>
<p>=== &quot;StatsD&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th><a href="#labels">Labels</a></th><th>Description</th></tr></thead><tbody><tr><td><code>{prefix}.router.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTP requests handled by a router.</td></tr><tr><td><code>{prefix}.router.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>router</code>, <code>service</code></td><td>The total count of HTTPS requests handled by a router.</td></tr><tr><td><code>{prefix}.router.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>Request processing duration histogram on a router.</td></tr><tr><td><code>{prefix}.router.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP requests in bytes handled by a router.</td></tr><tr><td><code>{prefix}.router.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>router</code>, <code>service</code></td><td>The total size of HTTP responses in bytes handled by a router.</td></tr></tbody></table>
<p>!!! note &quot;{prefix} Default Value&quot;
By default, {prefix} value is <code>Mesh</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="service-metrics">Service Metrics<a href="#service-metrics" class="hash-link" aria-label="Direct link to Service Metrics" title="Direct link to Service Metrics">​</a></h4>
<p>=== &quot;OpenTelemetry&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_service_requests_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total count of HTTP requests processed on a service.</td></tr><tr><td><code>Mesh_service_requests_tls_total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>service</code></td><td>The total count of HTTPS requests processed on a service.</td></tr><tr><td><code>Mesh_service_request_duration_seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>Request processing duration histogram on a service.</td></tr><tr><td><code>Mesh_service_retries_total</code></td><td>Count</td><td><code>service</code></td><td>The count of requests retries on a service.</td></tr><tr><td><code>Mesh_service_server_up</code></td><td>Gauge</td><td><code>service</code>, <code>url</code></td><td>Current service&#x27;s server status, 0 for a down or 1 for up.</td></tr><tr><td><code>Mesh_service_requests_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of requests in bytes received by a service.</td></tr><tr><td><code>Mesh_service_responses_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of responses in bytes returned by a service.</td></tr></tbody></table>
<p>=== &quot;Prometheus&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh_service_requests_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total count of HTTP requests processed on a service.</td></tr><tr><td><code>Mesh_service_requests_tls_total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>service</code></td><td>The total count of HTTPS requests processed on a service.</td></tr><tr><td><code>Mesh_service_request_duration_seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>Request processing duration histogram on a service.</td></tr><tr><td><code>Mesh_service_retries_total</code></td><td>Count</td><td><code>service</code></td><td>The count of requests retries on a service.</td></tr><tr><td><code>Mesh_service_server_up</code></td><td>Gauge</td><td><code>service</code>, <code>url</code></td><td>Current service&#x27;s server status, 0 for a down or 1 for up.</td></tr><tr><td><code>Mesh_service_requests_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of requests in bytes received by a service.</td></tr><tr><td><code>Mesh_service_responses_bytes_total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of responses in bytes returned by a service.</td></tr></tbody></table>
<p>=== &quot;Datadog&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>service.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total count of HTTP requests processed on a service.</td></tr><tr><td><code>router.service.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>service</code></td><td>The total count of HTTPS requests processed on a service.</td></tr><tr><td><code>service.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>Request processing duration histogram on a service.</td></tr><tr><td><code>service.retries.total</code></td><td>Count</td><td><code>service</code></td><td>The count of requests retries on a service.</td></tr><tr><td><code>service.server.up</code></td><td>Gauge</td><td><code>service</code>, <code>url</code></td><td>Current service&#x27;s server status, 0 for a down or 1 for up.</td></tr><tr><td><code>service.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of requests in bytes received by a service.</td></tr><tr><td><code>service.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of responses in bytes returned by a service.</td></tr></tbody></table>
<p>=== &quot;InfluxDB2&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>Mesh.service.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total count of HTTP requests processed on a service.</td></tr><tr><td><code>Mesh.service.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>service</code></td><td>The total count of HTTPS requests processed on a service.</td></tr><tr><td><code>Mesh.service.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>Request processing duration histogram on a service.</td></tr><tr><td><code>Mesh.service.retries.total</code></td><td>Count</td><td><code>service</code></td><td>The count of requests retries on a service.</td></tr><tr><td><code>Mesh.service.server.up</code></td><td>Gauge</td><td><code>service</code>, <code>url</code></td><td>Current service&#x27;s server status, 0 for a down or 1 for up.</td></tr><tr><td><code>Mesh.service.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of requests in bytes received by a service.</td></tr><tr><td><code>Mesh.service.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of responses in bytes returned by a service.</td></tr></tbody></table>
<p>=== &quot;StatsD&quot;</p>
<table><thead><tr><th>Metric</th><th>Type</th><th>Labels</th><th>Description</th></tr></thead><tbody><tr><td><code>{prefix}.service.requests.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total count of HTTP requests processed on a service.</td></tr><tr><td><code>{prefix}.service.requests.tls.total</code></td><td>Count</td><td><code>tls_version</code>, <code>tls_cipher</code>, <code>service</code></td><td>The total count of HTTPS requests processed on a service.</td></tr><tr><td><code>{prefix}.service.request.duration.seconds</code></td><td>Histogram</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>Request processing duration histogram on a service.</td></tr><tr><td><code>{prefix}.service.retries.total</code></td><td>Count</td><td><code>service</code></td><td>The count of requests retries on a service.</td></tr><tr><td><code>{prefix}.service.server.up</code></td><td>Gauge</td><td><code>service</code>, <code>url</code></td><td>Current service&#x27;s server status, 0 for a down or 1 for up.</td></tr><tr><td><code>{prefix}.service.requests.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of requests in bytes received by a service.</td></tr><tr><td><code>{prefix}.service.responses.bytes.total</code></td><td>Count</td><td><code>code</code>, <code>method</code>, <code>protocol</code>, <code>service</code></td><td>The total size of responses in bytes returned by a service.</td></tr></tbody></table>
<p>!!! note &quot;{prefix} Default Value&quot;
By default, {prefix} value is <code>Mesh</code>.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="labels-3">Labels<a href="#labels-3" class="hash-link" aria-label="Direct link to Labels" title="Direct link to Labels">​</a></h5>
<p>Here is a comprehensive list of labels that are provided by the metrics:</p>
<table><thead><tr><th>Label</th><th>Description</th><th>example</th></tr></thead><tbody><tr><td><code>cn</code></td><td>Certificate Common Name</td><td>&quot;example.com&quot;</td></tr><tr><td><code>code</code></td><td>Request code</td><td>&quot;200&quot;</td></tr><tr><td><code>entrypoint</code></td><td>Entrypoint that handled the request</td><td>&quot;example_entrypoint&quot;</td></tr><tr><td><code>method</code></td><td>Request Method</td><td>&quot;GET&quot;</td></tr><tr><td><code>protocol</code></td><td>Request protocol</td><td>&quot;http&quot;</td></tr><tr><td><code>router</code></td><td>Router that handled the request</td><td>&quot;example_router&quot;</td></tr><tr><td><code>sans</code></td><td>Certificate Subject Alternative NameS</td><td>&quot;example.com&quot;</td></tr><tr><td><code>serial</code></td><td>Certificate Serial Number</td><td>&quot;123...&quot;</td></tr><tr><td><code>service</code></td><td>Service that handled the request</td><td>&quot;example_service@provider&quot;</td></tr><tr><td><code>tls_cipher</code></td><td>TLS cipher used for the request</td><td>&quot;TLS_FALLBACK_SCSV&quot;</td></tr><tr><td><code>tls_version</code></td><td>TLS version used for the request</td><td>&quot;1.0&quot;</td></tr><tr><td><code>url</code></td><td>Service server url</td><td>&quot;<a href="http://example.com" target="_blank" rel="noopener noreferrer">http://example.com</a>&quot;</td></tr></tbody></table>
<p>!!! info &quot;<code>method</code> label value&quot;</p>
<p>If the HTTP method verb on a request is not one defined in the set of common methods for <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods" target="_blank" rel="noopener noreferrer"><code>HTTP/1.1</code></a>
or the <a href="https://datatracker.ietf.org/doc/html/rfc7540#section-11.6" target="_blank" rel="noopener noreferrer"><code>PRI</code></a> verb (for <code>HTTP/2</code>),
then the value for the method label becomes <code>EXTENSION_METHOD</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/reference/install-configuration/observability/metrics.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc/docs/reference/install-configuration/observability/logs-and-accesslogs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Mesh Logs Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc/docs/reference/install-configuration/observability/options-list"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">options-list</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#open-telemetry" class="table-of-contents__link toc-highlight">Open Telemetry</a><ul><li><a href="#configuration-example" class="table-of-contents__link toc-highlight">Configuration Example</a></li><li><a href="#configuration-options" class="table-of-contents__link toc-highlight">Configuration Options</a></li></ul></li><li><a href="#vendors" class="table-of-contents__link toc-highlight">Vendors</a><ul><li><a href="#datadog" class="table-of-contents__link toc-highlight">Datadog</a></li><li><a href="#influxdb-v2" class="table-of-contents__link toc-highlight">InfluxDB v2</a></li><li><a href="#prometheus" class="table-of-contents__link toc-highlight">Prometheus</a></li><li><a href="#statsd" class="table-of-contents__link toc-highlight">StatsD</a></li></ul></li><li><a href="#metrics-provided" class="table-of-contents__link toc-highlight">Metrics Provided</a><ul><li><a href="#global-metrics" class="table-of-contents__link toc-highlight">Global Metrics</a></li><li><a href="#opentelemetry-semantic-conventions" class="table-of-contents__link toc-highlight">OpenTelemetry Semantic Conventions</a></li><li><a href="#http-metrics" class="table-of-contents__link toc-highlight">HTTP Metrics</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">其他</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Mesh, Inc. Built with Mesh.</div></div></div></footer></div>
</body>
</html>