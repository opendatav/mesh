<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/install-configuration/entrypoints" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Mesh EntryPoints Documentation | 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/doc/docs/reference/install-configuration/entrypoints"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mesh EntryPoints Documentation | 文档中心"><meta data-rh="true" name="description" content="For routing and load balancing in Mesh Proxy, EntryPoints define which port will receive packets and whether they are TCP or UDP. Read the technical documentation."><meta data-rh="true" property="og:description" content="For routing and load balancing in Mesh Proxy, EntryPoints define which port will receive packets and whether they are TCP or UDP. Read the technical documentation."><link data-rh="true" rel="icon" href="/doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/doc/docs/reference/install-configuration/entrypoints"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/reference/install-configuration/entrypoints" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/reference/install-configuration/entrypoints" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"动态配置管理","item":"https://github.com/doc/docs/category/动态配置管理"},{"@type":"ListItem","position":2,"name":"Mesh EntryPoints Documentation","item":"https://github.com/doc/docs/reference/install-configuration/entrypoints"}]}</script><link rel="alternate" type="application/rss+xml" href="/doc/blog/rss.xml" title="文档中心 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/doc/blog/atom.xml" title="文档中心 Atom Feed"><link rel="stylesheet" href="/doc/assets/css/styles.2eab34b2.css">
<script src="/doc/assets/js/runtime~main.2bae97f1.js" defer="defer"></script>
<script src="/doc/assets/js/main.1caca4db.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/doc/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc/"><div class="navbar__logo"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">金融服务网关</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc/docs/intro">使用文档</a><a class="navbar__item navbar__link" href="/doc/blog">技术博客</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/intro">快速指引</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/开始使用">开始使用</a><button aria-label="Expand sidebar category &#x27;开始使用&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/doc/docs/category/动态配置管理">动态配置管理</a><button aria-label="Collapse sidebar category &#x27;动态配置管理&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/dynamic-configuration/consul-catalog">dynamic-configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/doc/docs/reference/install-configuration/api-dashboard">install-configuration</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/api-dashboard">Mesh API &amp; Dashboard Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/boot-environment">Mesh Configuration Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/reference/install-configuration/cli-options-list">cli-options-list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc/docs/reference/install-configuration/entrypoints">Mesh EntryPoints Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/observability/healthcheck">observability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/providers/docker">providers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/install-configuration/tls/certificate-resolvers/acme">tls</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/routing-configuration/dynamic-configuration-methods">routing-configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/reference/static-configuration/cli-ref">static-configuration</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/路由和负载均衡">路由和负载均衡</a><button aria-label="Expand sidebar category &#x27;路由和负载均衡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/代码贡献">代码贡献</a><button aria-label="Expand sidebar category &#x27;代码贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/版本兼容">版本兼容</a><button aria-label="Expand sidebar category &#x27;版本兼容&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/https协议">HTTPS协议</a><button aria-label="Expand sidebar category &#x27;HTTPS协议&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/includes/kubernetes-requirements">includes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/">Mesh Proxy Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/middlewares/http/addprefix">middlewares</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/observability/access-logs">observability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/operations/api">operations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/plugins/">Mesh Plugins Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/providers/consul-catalog">providers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/security/content-length">security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/user-guides/cert-manager">user-guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/doc/docs/category/动态配置管理"><span>动态配置管理</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">install-configuration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Mesh EntryPoints Documentation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Mesh EntryPoints Documentation</h1></header><p>Listening for Incoming Connections/Requests</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-example">Configuration Example<a href="#configuration-example" class="hash-link" aria-label="Direct link to Configuration Example" title="Direct link to Configuration Example">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">entryPoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">web</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">redirections</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">entryPoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">to</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> websecure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">permanent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">websecure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">443</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> auth@kubernetescrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> strip@kubernetescrd</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">## Values file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">web</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">websecure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">443</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> auth@kubernetescrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> strip@kubernetescrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">additionalArguments</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">entryPoints.web.http.redirections.to=websecure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">entryPoints.web.http.redirections.scheme=https</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">entryPoints.web.http.redirections.permanent=true</span><br></span></code></pre></div></div>
<p>!!! tip</p>
<p>In the Helm Chart, the entryPoints <code>web</code> (port 80), <code>websecure</code> (port 443), <code>Mesh</code> (port 8080) and <code>metrics</code> (port 9100) are created by default.
The entryPoints <code>web</code>, <code>websecure</code> are exposed by default using a Service.</p>
<p>The default behaviors can be overridden in the Helm Chart.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration Options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h2>
<table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th><th style="text-align:left">Required</th></tr></thead><tbody><tr><td style="text-align:left"><code>address</code></td><td style="text-align:left">Define the port, and optionally the hostname, on which to listen for incoming connections and packets.<br> It also defines the protocol to use (TCP or UDP).<br> If no protocol is specified, the default is TCP. The format is:<code>[host]:port[/tcp|/udp]</code>.</td><td style="text-align:left">-</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>accessLogs</code></td><td style="text-align:left">Defines whether a router attached to this EntryPoint produces access-logs by default. Nonetheless, a router defining its own observability configuration will opt-out from this default.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>asDefault</code></td><td style="text-align:left">Mark the <code>entryPoint</code> to be in the list of default <code>entryPoints</code>.<br> <code>entryPoints</code>in this list are used (by default) on HTTP and TCP routers that do not define their own <code>entryPoints</code> option.<br> More information <a href="#asdefault">here</a>.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>forwardedHeaders.trustedIPs</code></td><td style="text-align:left">Set the IPs or CIDR from where Mesh trusts the forwarded headers information (<code>X-Forwarded-*</code>).</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>forwardedHeaders.insecure</code></td><td style="text-align:left">Set the insecure mode to always trust the forwarded headers information (<code>X-Forwarded-*</code>).<br>We recommend to use this option only for tests purposes, not in production.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.redirections.</code><br><code>entryPoint.to</code></td><td style="text-align:left">The target element to enable (permanent) redirecting of all incoming requests on an entry point to another one. <br> The target element can be an entry point name (ex: <code>websecure</code>), or a port (<code>:443</code>).</td><td style="text-align:left">-</td><td style="text-align:left">Yes</td></tr><tr><td style="text-align:left"><code>http.redirections.</code><br><code>entryPoint.scheme</code></td><td style="text-align:left">The target scheme to use for (permanent) redirection of all incoming requests.</td><td style="text-align:left">https</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.redirections.</code><br><code>entryPoint.permanent</code></td><td style="text-align:left">Enable permanent redirecting of all incoming requests on an entry point to another one changing the scheme. <br> The target element, it can be an entry point name (ex: <code>websecure</code>), or a port (<code>:443</code>).</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.redirections.</code><br><code>entryPoint.priority</code></td><td style="text-align:left">Default priority applied to the routers attached to the <code>entryPoint</code>.</td><td style="text-align:left">MaxInt32-1 (2147483646)</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.encodeQuerySemicolons</code></td><td style="text-align:left">Enable query semicolons encoding. <br> Use this option to avoid non-encoded semicolons to be interpreted as query parameter separators by Mesh. <br> When using this option, the non-encoded semicolons characters in query will be transmitted encoded to the backend.<br> More information <a href="#encodequerysemicolons">here</a>.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.sanitizePath</code></td><td style="text-align:left">Defines whether to enable the request path sanitization.<br> More information <a href="#sanitizepath">here</a>.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.middlewares</code></td><td style="text-align:left">Set the list of middlewares that are prepended by default to the list of middlewares of each router associated to the named entry point. <br>More information <a href="#httpmiddlewares">here</a>.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.tls</code></td><td style="text-align:left">Enable TLS on every router attached to the <code>entryPoint</code>. <br> If no certificate are set, a default self-signed certificate is generates by Mesh. <br> We recommend to not use self signed certificates in production.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.tls.options</code></td><td style="text-align:left">Apply TLS options on every router attached to the <code>entryPoint</code>. <br> The TLS options can be overidden per router. <br> More information in the <a href="/doc/docs/routing/providers/kubernetes-crd#kind-tlsoption">dedicated section</a>.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http.tls.certResolver</code></td><td style="text-align:left">Apply a certificate resolver on every router attached to the <code>entryPoint</code>. <br> The TLS options can be overidden per router. <br> More information in the <a href="/doc/docs/reference/install-configuration/tls/certificate-resolvers/overview">dedicated section</a>.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http2.maxConcurrentStreams</code></td><td style="text-align:left">Set the number of concurrent streams per connection that each client is allowed to initiate. <br> The value must be greater than zero.</td><td style="text-align:left">250</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http3</code></td><td style="text-align:left">Enable HTTP/3 protocol on the <code>entryPoint</code>. <br> HTTP/3 requires a TCP <code>entryPoint</code>. as HTTP/3 always starts as a TCP connection that then gets upgraded to UDP. In most scenarios, this <code>entryPoint</code> is the same as the one used for TLS traffic.<br> More information [here](#http3.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>http3.advertisedPort</code></td><td style="text-align:left">Set the UDP port to advertise as the HTTP/3 authority. <br> It defaults to the entryPoint&#x27;s address port. <br> It can be used to override the authority in the <code>alt-svc</code> header, for example if the public facing port is different from where Mesh is listening.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>metrics</code></td><td style="text-align:left">Defines whether a router attached to this EntryPoint produces metrics by default. Nonetheless, a router defining its own observability configuration will opt-out from this default.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>proxyProtocol.trustedIPs</code></td><td style="text-align:left">Enable PROXY protocol with Trusted IPs. <br> Mesh supports <a href="https://www.haproxy.org/download/2.0/doc/proxy-protocol.txt" target="_blank" rel="noopener noreferrer">PROXY protocol</a> version 1 and 2. <br> If PROXY protocol header parsing is enabled for the entry point, this entry point can accept connections with or without PROXY protocol headers. <br> If the PROXY protocol header is passed, then the version is determined automatically.<br> More information <a href="#proxyprotocol-and-load-balancers">here</a>.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>proxyProtocol.insecure</code></td><td style="text-align:left">Enable PROXY protocol trusting every incoming connection. <br> Every remote client address will be replaced (<code>trustedIPs</code>) won&#x27;t have any effect). <br> Mesh supports <a href="https://www.haproxy.org/download/2.0/doc/proxy-protocol.txt" target="_blank" rel="noopener noreferrer">PROXY protocol</a> version 1 and 2. <br> If PROXY protocol header parsing is enabled for the entry point, this entry point can accept connections with or without PROXY protocol headers. <br> If the PROXY protocol header is passed, then the version is determined automatically.<br>We recommend to use this option only for tests purposes, not in production.<br> More information <a href="#proxyprotocol-and-load-balancers">here</a>.</td><td style="text-align:left">-</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>reusePort</code></td><td style="text-align:left">Enable <code>entryPoints</code> from the same or different processes listening on the same TCP/UDP port by utilizing the <code>SO_REUSEPORT</code> socket option. <br> It also allows the kernel to act like a load balancer to distribute incoming connections between entry points..<br> More information <a href="#reuseport">here</a>.</td><td style="text-align:left">false</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>tracing</code></td><td style="text-align:left">Defines whether a router attached to this EntryPoint produces traces by default. Nonetheless, a router defining its own observability configuration will opt-out from this default.</td><td style="text-align:left">true</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>transport.</code><br><code>respondingTimeouts.</code><br><code>readTimeout</code></td><td style="text-align:left">Set the timeouts for incoming requests to the Mesh instance. This is the maximum duration for reading the entire request, including the body. Setting them has no effect for UDP <code>entryPoints</code>.<br> If zero, no timeout exists. <br>Can be provided in a format supported by <a href="https://golang.org/pkg/time/#ParseDuration" target="_blank" rel="noopener noreferrer">time.ParseDuration</a> or as raw values (digits).<br>If no units are provided, the value is parsed assuming seconds.</td><td style="text-align:left">60s (seconds)</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>transport.</code><br><code>respondingTimeouts.</code><br><code>writeTimeout</code></td><td style="text-align:left">Maximum duration before timing out writes of the response. <br> It covers the time from the end of the request header read to the end of the response write. <br> If zero, no timeout exists. <br>Can be provided in a format supported by <a href="https://golang.org/pkg/time/#ParseDuration" target="_blank" rel="noopener noreferrer">time.ParseDuration</a> or as raw values (digits).<br>If no units are provided, the value is parsed assuming seconds.</td><td style="text-align:left">0s (seconds)</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>transport.</code><br><code>respondingTimeouts.</code><br><code>idleTimeout</code></td><td style="text-align:left">Maximum duration an idle (keep-alive) connection will remain idle before closing itself. <br> If zero, no timeout exists <br>Can be provided in a format supported by <a href="https://golang.org/pkg/time/#ParseDuration" target="_blank" rel="noopener noreferrer">time.ParseDuration</a> or as raw values (digits).<br>If no units are provided, the value is parsed assuming seconds</td><td style="text-align:left">180s (seconds)</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>transport.</code><br><code>lifeCycle.</code><br><code>graceTimeOut</code></td><td style="text-align:left">Set the duration to give active requests a chance to finish before Mesh stops. <br>Can be provided in a format supported by <a href="https://golang.org/pkg/time/#ParseDuration" target="_blank" rel="noopener noreferrer">time.ParseDuration</a> or as raw values (digits).<br>If no units are provided, the value is parsed assuming seconds <br> In this time frame no new requests are accepted.</td><td style="text-align:left">10s (seconds)</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>transport.</code><br><code>lifeCycle.</code><br><code>requestAcceptGraceTimeout</code></td><td style="text-align:left">Set the duration to keep accepting requests prior to initiating the graceful termination period (as defined by the <code>transportlifeCycle.graceTimeOut</code> option). <br> This option is meant to give downstream load-balancers sufficient time to take Mesh out of rotation. <br>Can be provided in a format supported by <a href="https://golang.org/pkg/time/#ParseDuration" target="_blank" rel="noopener noreferrer">time.ParseDuration</a> or as raw values (digits).<br>If no units are provided, the value is parsed assuming seconds</td><td style="text-align:left">0s (seconds)</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>transport.</code><br><code>keepAliveMaxRequests</code></td><td style="text-align:left">Set the maximum number of requests Mesh can handle before sending a <code>Connection: Close</code> header to the client (for HTTP2, Mesh sends a GOAWAY). <br> Zero means no limit.</td><td style="text-align:left">0</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>transport.</code><br><code>keepAliveMaxTime</code></td><td style="text-align:left">Set the maximum duration Mesh can handle requests before sending a <code>Connection: Close</code> header to the client (for HTTP2, Mesh sends a GOAWAY). Zero means no limit.</td><td style="text-align:left">0s (seconds)</td><td style="text-align:left">No</td></tr><tr><td style="text-align:left"><code>udp.timeout</code></td><td style="text-align:left">Define how long to wait on an idle session before releasing the related resources. <br>The Timeout value must be greater than zero.</td><td style="text-align:left">3s (seconds)</td><td style="text-align:left">No</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="asdefault">asDefault<a href="#asdefault" class="hash-link" aria-label="Direct link to asDefault" title="Direct link to asDefault">​</a></h3>
<p>If there is no entryPoint with the <code>asDefault</code> option set to <code>true</code>, then the
list of default entryPoints includes all HTTP/TCP entryPoints.</p>
<p>If at least one entryPoint has the <code>asDefault</code> option set to <code>true</code>,
then the list of default entryPoints includes only entryPoints that have the
<code>asDefault</code> option set to <code>true</code>.</p>
<p>Some built-in entryPoints are always excluded from the list, namely: <code>Mesh</code>.</p>
<p>The <code>asDefault</code> option has no effect on UDP entryPoints.
When a UDP router does not define the entryPoints option, it is attached to all
available UDP entryPoints.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="httpmiddlewares">http.middlewares<a href="#httpmiddlewares" class="hash-link" aria-label="Direct link to http.middlewares" title="Direct link to http.middlewares">​</a></h3>
<ul>
<li>You can attach a list of <a href="/doc/docs/middlewares/http/overview">middlewares</a>
to each entryPoint.</li>
<li>The middlewares will take effect only if the rule matches, and before forwarding
the request to the service.</li>
<li>Middlewares are applied in the same order as their declaration.</li>
<li>Middlewares are applied by default to every router exposed through the EntryPoint
(the Middlewares declared on the <a href="/doc/docs/routing/routers/#middlewares">IngressRoute</a>
or the <a href="/doc/docs/routing/providers/kubernetes-ingress#on-ingress">Ingress</a>
are applied after the ones declared on the Entrypoint)</li>
<li>The option allows attaching a list of middleware using the format
<code>middlewarename@providername</code> as described in the example below:</li>
</ul>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">entryPoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">web</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> auth@kubernetescrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> strip@file</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">web</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> auth@kubernetescrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> strip@file</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="encodequerysemicolons">encodeQuerySemicolons<a href="#encodequerysemicolons" class="hash-link" aria-label="Direct link to encodeQuerySemicolons" title="Direct link to encodeQuerySemicolons">​</a></h3>
<p>Behavior examples:</p>
<table><thead><tr><th>EncodeQuerySemicolons</th><th>Request Query</th><th>Resulting Request Query</th></tr></thead><tbody><tr><td>false</td><td>foo=bar;baz=bar</td><td>foo=bar&amp;baz=bar</td></tr><tr><td>true</td><td>foo=bar;baz=bar</td><td>foo=bar%3Bbaz=bar</td></tr><tr><td>false</td><td>foo=bar&amp;baz=bar;foo</td><td>foo=bar&amp;baz=bar&amp;foo</td></tr><tr><td>true</td><td>foo=bar&amp;baz=bar;foo</td><td>foo=bar&amp;baz=bar%3Bfoo</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sanitizepath">SanitizePath<a href="#sanitizepath" class="hash-link" aria-label="Direct link to SanitizePath" title="Direct link to SanitizePath">​</a></h3>
<p>The <code>sanitizePath</code> option defines whether to enable the request path sanitization.
When disabled, the incoming request path is passed to the backend as is.
This can be useful when dealing with legacy clients that are not url-encoding data in the request path.
For example, as base64 uses the “/” character internally,
if it&#x27;s not url encoded,
it can lead to unsafe routing when the <code>sanitizePath</code> option is set to <code>false</code>.</p>
<p>!!! warning &quot;Security&quot;</p>
<p>Setting the sanitizePath option to false is not safe.
Ensure every request is properly url encoded instead.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h4>
<table><thead><tr><th>SanitizePath</th><th>Request Path</th><th>Resulting Request Path</th></tr></thead><tbody><tr><td>false</td><td>/./foo/bar</td><td>/./foo/bar</td></tr><tr><td>true</td><td>/./foo/bar</td><td>/foo/bar</td></tr><tr><td>false</td><td>/foo/../bar</td><td>/foo/../bar</td></tr><tr><td>true</td><td>/foo/../bar</td><td>/bar</td></tr><tr><td>false</td><td>/foo/bar//</td><td>/foo/bar//</td></tr><tr><td>true</td><td>/foo/bar//</td><td>/foo/bar/</td></tr><tr><td>false</td><td>/./foo/../bar//</td><td>/./foo/../bar//</td></tr><tr><td>true</td><td>/./foo/../bar//</td><td>/bar/</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http3">HTTP3<a href="#http3" class="hash-link" aria-label="Direct link to HTTP3" title="Direct link to HTTP3">​</a></h3>
<p>As HTTP/3 actually uses UDP, when Mesh is configured with a TCP <code>entryPoint</code>
on port N with HTTP/3 enabled, the underlying HTTP/3 server that is started
automatically listens on UDP port N too. As a consequence,
it means port N cannot be used by another UDP <code>entryPoint</code>.
Since HTTP/3 requires the use of TLS,
only routers with TLS enabled will be usable with HTTP/3.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="proxyprotocol-and-load-balancers">ProxyProtocol and Load-Balancers<a href="#proxyprotocol-and-load-balancers" class="hash-link" aria-label="Direct link to ProxyProtocol and Load-Balancers" title="Direct link to ProxyProtocol and Load-Balancers">​</a></h3>
<p>The replacement of the remote client address will occur only for IP addresses listed in <code>trustedIPs</code>. This is where yoåu specify your load balancer IPs or CIDR ranges.</p>
<p>When queuing Mesh behind another load-balancer, make sure to configure
PROXY protocol on both sides.
Not doing so could introduce a security risk in your system (enabling request forgery).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reuseport">reusePort<a href="#reuseport" class="hash-link" aria-label="Direct link to reusePort" title="Direct link to reusePort">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="examples-1">Examples<a href="#examples-1" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h4>
<p>Many processes on the same EntryPoint:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">entryPoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">web</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">reusePort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">## Values file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">additionalArguments</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">entryPoints.web.reusePort=true</span><br></span></code></pre></div></div>
<p>Many processes on the same EntryPoint on another host:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">entryPoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">web</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reusePort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">privateWeb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.1.2:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reusePort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">additionalArguments</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">entryPoints.web.reusePort=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">entryPoints.privateWeb.address=192.168.1.2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">entryPoints.privateWeb.reusePort=true</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="supported-platforms">Supported platforms<a href="#supported-platforms" class="hash-link" aria-label="Direct link to Supported platforms" title="Direct link to Supported platforms">​</a></h4>
<p>The <code>reusePort</code> option currently works only on Linux, FreeBSD, OpenBSD and Darwin.
It will be ignored on other platforms.</p>
<p>There is a known bug in the Linux kernel that may cause unintended TCP connection
failures when using the <code>reusePort</code> option. For more details, see <a href="https://lwn.net/Articles/853637/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="canary-deployment">Canary deployment<a href="#canary-deployment" class="hash-link" aria-label="Direct link to Canary deployment" title="Direct link to Canary deployment">​</a></h4>
<p>Use the <code>reusePort</code> option with the other option <code>transport.lifeCycle.gracetimeout</code>
to do
canary deployments against Mesh itself. Like upgrading Mesh version
or reloading the static configuration without any service downtime.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/reference/install-configuration/entrypoints.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc/docs/reference/install-configuration/cli-options-list"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">cli-options-list</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc/docs/reference/install-configuration/observability/healthcheck"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mesh Health Check Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration-example" class="table-of-contents__link toc-highlight">Configuration Example</a></li><li><a href="#configuration-options" class="table-of-contents__link toc-highlight">Configuration Options</a><ul><li><a href="#asdefault" class="table-of-contents__link toc-highlight">asDefault</a></li><li><a href="#httpmiddlewares" class="table-of-contents__link toc-highlight">http.middlewares</a></li><li><a href="#encodequerysemicolons" class="table-of-contents__link toc-highlight">encodeQuerySemicolons</a></li><li><a href="#sanitizepath" class="table-of-contents__link toc-highlight">SanitizePath</a></li><li><a href="#http3" class="table-of-contents__link toc-highlight">HTTP3</a></li><li><a href="#proxyprotocol-and-load-balancers" class="table-of-contents__link toc-highlight">ProxyProtocol and Load-Balancers</a></li><li><a href="#reuseport" class="table-of-contents__link toc-highlight">reusePort</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">其他</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Mesh, Inc. Built with Mesh.</div></div></div></footer></div>
</body>
</html>