<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-middlewares/http/headers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Mesh Headers Documentation | 文档中心</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/doc/docs/middlewares/http/headers"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mesh Headers Documentation | 文档中心"><meta data-rh="true" name="description" content="In Mesh Proxy, the HTTP headers middleware manages the headers of requests and responses. Read the technical documentation."><meta data-rh="true" property="og:description" content="In Mesh Proxy, the HTTP headers middleware manages the headers of requests and responses. Read the technical documentation."><link data-rh="true" rel="icon" href="/doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/doc/docs/middlewares/http/headers"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/middlewares/http/headers" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/doc/docs/middlewares/http/headers" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Mesh Headers Documentation","item":"https://github.com/doc/docs/middlewares/http/headers"}]}</script><link rel="alternate" type="application/rss+xml" href="/doc/blog/rss.xml" title="文档中心 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/doc/blog/atom.xml" title="文档中心 Atom Feed"><link rel="stylesheet" href="/doc/assets/css/styles.2eab34b2.css">
<script src="/doc/assets/js/runtime~main.2bae97f1.js" defer="defer"></script>
<script src="/doc/assets/js/main.1caca4db.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/doc/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc/"><div class="navbar__logo"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doc/img/logo.png" alt="金融服务网关Icon" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">金融服务网关</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc/docs/intro">使用文档</a><a class="navbar__item navbar__link" href="/doc/blog">技术博客</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/intro">快速指引</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/开始使用">开始使用</a><button aria-label="Expand sidebar category &#x27;开始使用&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/动态配置管理">动态配置管理</a><button aria-label="Expand sidebar category &#x27;动态配置管理&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/路由和负载均衡">路由和负载均衡</a><button aria-label="Expand sidebar category &#x27;路由和负载均衡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/代码贡献">代码贡献</a><button aria-label="Expand sidebar category &#x27;代码贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/版本兼容">版本兼容</a><button aria-label="Expand sidebar category &#x27;版本兼容&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/doc/docs/category/https协议">HTTPS协议</a><button aria-label="Expand sidebar category &#x27;HTTPS协议&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/includes/kubernetes-requirements">includes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/">Mesh Proxy Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/doc/docs/middlewares/http/addprefix">middlewares</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/doc/docs/middlewares/http/addprefix">http</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/addprefix">Mesh AddPrefix Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/basicauth">Mesh BasicAuth Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/buffering">Mesh Buffering Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/chain">Mesh Command Line Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/circuitbreaker">Mesh CircuitBreaker Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/compress">Mesh Compress Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/contenttype">Mesh ContentType Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/digestauth">Mesh DigestAuth Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/errorpages">Mesh Errors Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/forwardauth">Mesh ForwardAuth Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/grpcweb">Mesh GrpcWeb Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc/docs/middlewares/http/headers">Mesh Headers Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/inflightreq">Mesh InFlightReq Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/ipallowlist">Mesh HTTP Middlewares IPAllowList</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/ipwhitelist">Mesh HTTP Middlewares IPWhiteList</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/overview">Mesh Proxy HTTP Middleware Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/passtlsclientcert">Mesh PassTLSClientCert Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/ratelimit">Mesh RateLimit Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/redirectregex">Mesh RedirectRegex Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/redirectscheme">Mesh RedirectScheme Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/replacepath">Mesh ReplacePath Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/replacepathregex">Mesh ReplacePathRegex Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/retry">Mesh HTTP Retry Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/stripprefix">Mesh StripPrefix Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/http/stripprefixregex">Mesh StripPrefixRegex Documentation</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/docs/middlewares/overview">Mesh Proxy Middleware Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/doc/docs/middlewares/tcp/inflightconn">tcp</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/observability/access-logs">observability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/operations/api">operations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/plugins/">Mesh Plugins Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/providers/consul-catalog">providers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/security/content-length">security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/doc/docs/user-guides/cert-manager">user-guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">middlewares</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">http</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Mesh Headers Documentation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Headers</h1></header>
<p>Managing Request/Response headers</p>
<p><img decoding="async" loading="lazy" alt="Headers" src="/doc/assets/images/headers-670622302fc689690eaa6d77a8888832.png" width="2420" height="410" class="img_ev3q"></p>
<p>The Headers middleware manages the headers of requests and responses.</p>
<p>A set of forwarded headers are automatically added by default. See the <a href="/doc/docs/getting-started/faq#what-are-the-forwarded-headers-when-proxying-http-requests">FAQ</a> for more information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-examples">Configuration Examples<a href="#configuration-examples" class="hash-link" aria-label="Direct link to Configuration Examples" title="Direct link to Configuration Examples">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-headers-to-the-request-and-the-response">Adding Headers to the Request and the Response<a href="#adding-headers-to-the-request-and-the-response" class="hash-link" aria-label="Direct link to Adding Headers to the Request and the Response" title="Direct link to Adding Headers to the Request and the Response">​</a></h3>
<p>The following example adds the <code>X-Script-Name</code> header to the proxied request and the <code>X-Custom-Response-Header</code> header to the response</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testHeader.headers.customrequestheaders.X-Script-Name=test&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testHeader.headers.customresponseheaders.X-Custom-Response-Header=value&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Mesh.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">customRequestHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">X-Script-Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">customResponseHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">X-Custom-Response-Header</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Script-Name=test&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customresponseheaders.X-Custom-Response-Header=value&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">testHeader</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">customRequestHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">X-Script-Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">customResponseHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">X-Custom-Response-Header</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[http.middlewares]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [http.middlewares.testHeader.headers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [http.middlewares.testHeader.headers.customRequestHeaders]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        X-Script-Name = &quot;test&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [http.middlewares.testHeader.headers.customResponseHeaders]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        X-Custom-Response-Header = &quot;value&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-and-removing-headers">Adding and Removing Headers<a href="#adding-and-removing-headers" class="hash-link" aria-label="Direct link to Adding and Removing Headers" title="Direct link to Adding and Removing Headers">​</a></h3>
<p>In the following example, requests are proxied with an extra <code>X-Script-Name</code> header while their <code>X-Custom-Request-Header</code> header gets stripped,
and responses are stripped of their <code>X-Custom-Response-Header</code> header.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Script-Name=test&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Custom-Request-Header=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customresponseheaders.X-Custom-Response-Header=&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Mesh.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">customRequestHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">X-Script-Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Adds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">X-Custom-Request-Header</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Removes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">customResponseHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">X-Custom-Response-Header</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Removes</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Script-Name=test&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Custom-Request-Header=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.customresponseheaders.X-Custom-Response-Header=&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">testHeader</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">customRequestHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">X-Script-Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Adds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">X-Custom-Request-Header</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Removes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">customResponseHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">X-Custom-Response-Header</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Removes</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[http.middlewares]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [http.middlewares.testHeader.headers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [http.middlewares.testHeader.headers.customRequestHeaders]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        X-Script-Name = &quot;test&quot; # Adds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        X-Custom-Request-Header = &quot;&quot; # Removes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [http.middlewares.testHeader.headers.customResponseHeaders]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        X-Custom-Response-Header = &quot;&quot; # Removes</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-security-headers">Using Security Headers<a href="#using-security-headers" class="hash-link" aria-label="Direct link to Using Security Headers" title="Direct link to Using Security Headers">​</a></h3>
<p>Security-related headers (HSTS headers, Browser XSS filter, etc) can be managed similarly to custom headers as shown above.
This functionality makes it possible to easily use security features by adding headers.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testHeader.headers.framedeny=true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testHeader.headers.browserxssfilter=true&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Mesh.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">frameDeny</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">browserXssFilter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.framedeny=true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.browserxssfilter=true&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">testHeader</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">frameDeny</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">browserXssFilter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[http.middlewares]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [http.middlewares.testHeader.headers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    frameDeny = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    browserXssFilter = true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cors-headers">CORS Headers<a href="#cors-headers" class="hash-link" aria-label="Direct link to CORS Headers" title="Direct link to CORS Headers">​</a></h3>
<p>CORS (Cross-Origin Resource Sharing) headers can be added and configured in a manner similar to the custom headers above.
This functionality allows for more advanced security features to quickly be set.
If CORS headers are set, then the middleware does not pass preflight requests to any service,
instead the response will be generated and sent back to the client directly.<br>
<!-- -->Please note that the example below is by no means authoritative or exhaustive,
and should not be used as is for production.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolallowmethods=GET,OPTIONS,PUT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolallowheaders=*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolalloworiginlist=https://foo.bar.org,https://example.org&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolmaxage=100&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.addvaryheader=true&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Mesh.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">accessControlAllowMethods</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GET&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;OPTIONS&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PUT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">accessControlAllowHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">accessControlAllowOriginList</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://foo.bar.org&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.org&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">accessControlMaxAge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">addVaryHeader</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolallowmethods=GET,OPTIONS,PUT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolallowheaders=*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolalloworiginlist=https://foo.bar.org,https://example.org&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.accesscontrolmaxage=100&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mesh.http.middlewares.testheader.headers.addvaryheader=true&quot;</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">middlewares</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">testHeader</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">accessControlAllowMethods</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> GET</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> OPTIONS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> PUT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">accessControlAllowHeaders</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">accessControlAllowOriginList</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//foo.bar.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//example.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">accessControlMaxAge</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">addVaryHeader</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre></div></div>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[http.middlewares]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [http.middlewares.testHeader.headers]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accessControlAllowMethods = [&quot;GET&quot;, &quot;OPTIONS&quot;, &quot;PUT&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accessControlAllowHeaders = [ &quot;*&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accessControlAllowOriginList = [&quot;https://foo.bar.org&quot;,&quot;https://example.org&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accessControlMaxAge = 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    addVaryHeader = true</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration Options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a href="#general" class="hash-link" aria-label="Direct link to General" title="Direct link to General">​</a></h3>
<p>!!! warning</p>
<p>Custom headers will overwrite existing headers if they have identical names.</p>
<p>!!! note &quot;&quot;</p>
<p>The detailed documentation for security headers can be found in <a href="https://github.com/unrolled/secure#available-options" target="_blank" rel="noopener noreferrer">unrolled/secure</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customrequestheaders"><code>customRequestHeaders</code><a href="#customrequestheaders" class="hash-link" aria-label="Direct link to customrequestheaders" title="Direct link to customrequestheaders">​</a></h3>
<p>The <code>customRequestHeaders</code> option lists the header names and values to apply to the request.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customresponseheaders"><code>customResponseHeaders</code><a href="#customresponseheaders" class="hash-link" aria-label="Direct link to customresponseheaders" title="Direct link to customresponseheaders">​</a></h3>
<p>The <code>customResponseHeaders</code> option lists the header names and values to apply to the response.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accesscontrolallowcredentials"><code>accessControlAllowCredentials</code><a href="#accesscontrolallowcredentials" class="hash-link" aria-label="Direct link to accesscontrolallowcredentials" title="Direct link to accesscontrolallowcredentials">​</a></h3>
<p>The <code>accessControlAllowCredentials</code> indicates whether the request can include user credentials.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accesscontrolallowheaders"><code>accessControlAllowHeaders</code><a href="#accesscontrolallowheaders" class="hash-link" aria-label="Direct link to accesscontrolallowheaders" title="Direct link to accesscontrolallowheaders">​</a></h3>
<p>The <code>accessControlAllowHeaders</code> indicates which header field names can be used as part of the request.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accesscontrolallowmethods"><code>accessControlAllowMethods</code><a href="#accesscontrolallowmethods" class="hash-link" aria-label="Direct link to accesscontrolallowmethods" title="Direct link to accesscontrolallowmethods">​</a></h3>
<p>The  <code>accessControlAllowMethods</code> indicates which methods can be used during requests.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accesscontrolalloworiginlist"><code>accessControlAllowOriginList</code><a href="#accesscontrolalloworiginlist" class="hash-link" aria-label="Direct link to accesscontrolalloworiginlist" title="Direct link to accesscontrolalloworiginlist">​</a></h3>
<p>The <code>accessControlAllowOriginList</code> indicates whether a resource can be shared by returning different values.</p>
<p>A wildcard origin <code>*</code> can also be configured, and matches all requests.
If this value is set by a backend service, it will be overwritten by Mesh.</p>
<p>This value can contain a list of allowed origins.</p>
<p>More information including how to use the settings can be found at:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin" target="_blank" rel="noopener noreferrer">Mozilla.org</a></li>
<li><a href="https://fetch.spec.whatwg.org/#http-access-control-allow-origin" target="_blank" rel="noopener noreferrer">w3</a></li>
<li><a href="https://tools.ietf.org/html/rfc6454#section-7.1" target="_blank" rel="noopener noreferrer">IETF</a></li>
</ul>
<p>Mesh no longer supports the <code>null</code> value, as it is <a href="https://w3c.github.io/webappsec-cors-for-developers/#avoid-returning-access-control-allow-origin-null" target="_blank" rel="noopener noreferrer">no longer recommended as a return value</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accesscontrolalloworiginlistregex"><code>accessControlAllowOriginListRegex</code><a href="#accesscontrolalloworiginlistregex" class="hash-link" aria-label="Direct link to accesscontrolalloworiginlistregex" title="Direct link to accesscontrolalloworiginlistregex">​</a></h3>
<p>The <code>accessControlAllowOriginListRegex</code> option is the counterpart of the <code>accessControlAllowOriginList</code> option with regular expressions instead of origin values.
It allows all origins that contain any match of a regular expression in the <code>accessControlAllowOriginList</code>.</p>
<p>!!! tip</p>
<p>Regular expressions and replacements can be tested using online tools such as <a href="https://play.golang.org/p/mWU9p-wk2ru" target="_blank" rel="noopener noreferrer">Go Playground</a> or the <a href="https://regex101.com/r/58sIgx/2" target="_blank" rel="noopener noreferrer">Regex101</a>.</p>
<p>When defining a regular expression within YAML, any escaped character needs to be escaped twice: <code>example\.com</code> needs to be written as <code>example\\.com</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accesscontrolexposeheaders"><code>accessControlExposeHeaders</code><a href="#accesscontrolexposeheaders" class="hash-link" aria-label="Direct link to accesscontrolexposeheaders" title="Direct link to accesscontrolexposeheaders">​</a></h3>
<p>The <code>accessControlExposeHeaders</code> indicates which headers are safe to expose to the api of a CORS API specification.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accesscontrolmaxage"><code>accessControlMaxAge</code><a href="#accesscontrolmaxage" class="hash-link" aria-label="Direct link to accesscontrolmaxage" title="Direct link to accesscontrolmaxage">​</a></h3>
<p>The <code>accessControlMaxAge</code> indicates how many seconds a preflight request can be cached for.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addvaryheader"><code>addVaryHeader</code><a href="#addvaryheader" class="hash-link" aria-label="Direct link to addvaryheader" title="Direct link to addvaryheader">​</a></h3>
<p>The <code>addVaryHeader</code> is used in conjunction with <code>accessControlAllowOriginList</code> to determine whether the <code>Vary</code> header should be added or modified to demonstrate that server responses can differ based on the value of the origin header.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allowedhosts"><code>allowedHosts</code><a href="#allowedhosts" class="hash-link" aria-label="Direct link to allowedhosts" title="Direct link to allowedhosts">​</a></h3>
<p>The <code>allowedHosts</code> option lists fully qualified domain names that are allowed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hostsproxyheaders"><code>hostsProxyHeaders</code><a href="#hostsproxyheaders" class="hash-link" aria-label="Direct link to hostsproxyheaders" title="Direct link to hostsproxyheaders">​</a></h3>
<p>The <code>hostsProxyHeaders</code> option is a set of header keys that may hold a proxied hostname value for the request.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sslredirect"><code>sslRedirect</code><a href="#sslredirect" class="hash-link" aria-label="Direct link to sslredirect" title="Direct link to sslredirect">​</a></h3>
<p>!!! warning</p>
<p>Deprecated in favor of <a href="/doc/docs/routing/entrypoints#redirection">EntryPoint redirection</a> or the <a href="/doc/docs/middlewares/http/redirectscheme">RedirectScheme middleware</a>.</p>
<p>The <code>sslRedirect</code> only allow HTTPS requests when set to <code>true</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssltemporaryredirect"><code>sslTemporaryRedirect</code><a href="#ssltemporaryredirect" class="hash-link" aria-label="Direct link to ssltemporaryredirect" title="Direct link to ssltemporaryredirect">​</a></h3>
<p>!!! warning</p>
<p>Deprecated in favor of <a href="/doc/docs/routing/entrypoints#redirection">EntryPoint redirection</a> or the <a href="/doc/docs/middlewares/http/redirectscheme">RedirectScheme middleware</a>.</p>
<p>Set <code>sslTemporaryRedirect</code> to <code>true</code> to force an SSL redirection using a 302 (instead of a 301).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sslhost"><code>sslHost</code><a href="#sslhost" class="hash-link" aria-label="Direct link to sslhost" title="Direct link to sslhost">​</a></h3>
<p>!!! warning</p>
<p>Deprecated in favor of the <a href="/doc/docs/middlewares/http/redirectregex">RedirectRegex middleware</a>.</p>
<p>The <code>sslHost</code> option is the host name that is used to redirect HTTP requests to HTTPS.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sslproxyheaders"><code>sslProxyHeaders</code><a href="#sslproxyheaders" class="hash-link" aria-label="Direct link to sslproxyheaders" title="Direct link to sslproxyheaders">​</a></h3>
<p>The <code>sslProxyHeaders</code> option is set of header keys with associated values that would indicate a valid HTTPS request.
It can be useful when using other proxies (example: <code>&quot;X-Forwarded-Proto&quot;: &quot;https&quot;</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sslforcehost"><code>sslForceHost</code><a href="#sslforcehost" class="hash-link" aria-label="Direct link to sslforcehost" title="Direct link to sslforcehost">​</a></h3>
<p>!!! warning</p>
<p>Deprecated in favor of the <a href="/doc/docs/middlewares/http/redirectregex">RedirectRegex middleware</a>.</p>
<p>Set <code>sslForceHost</code> to <code>true</code> and set <code>sslHost</code> to force requests to use <code>SSLHost</code> regardless of whether they already use SSL.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stsseconds"><code>stsSeconds</code><a href="#stsseconds" class="hash-link" aria-label="Direct link to stsseconds" title="Direct link to stsseconds">​</a></h3>
<p>The <code>stsSeconds</code> is the max-age of the <code>Strict-Transport-Security</code> header.
If set to <code>0</code>, the header is not set.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stsincludesubdomains"><code>stsIncludeSubdomains</code><a href="#stsincludesubdomains" class="hash-link" aria-label="Direct link to stsincludesubdomains" title="Direct link to stsincludesubdomains">​</a></h3>
<p>If the <code>stsIncludeSubdomains</code> is set to <code>true</code>, the <code>includeSubDomains</code> directive is appended to the <code>Strict-Transport-Security</code> header.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stspreload"><code>stsPreload</code><a href="#stspreload" class="hash-link" aria-label="Direct link to stspreload" title="Direct link to stspreload">​</a></h3>
<p>Set <code>stsPreload</code> to <code>true</code> to have the <code>preload</code> flag appended to the <code>Strict-Transport-Security</code> header.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forcestsheader"><code>forceSTSHeader</code><a href="#forcestsheader" class="hash-link" aria-label="Direct link to forcestsheader" title="Direct link to forcestsheader">​</a></h3>
<p>Set <code>forceSTSHeader</code> to <code>true</code> to add the STS header even when the connection is HTTP.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="framedeny"><code>frameDeny</code><a href="#framedeny" class="hash-link" aria-label="Direct link to framedeny" title="Direct link to framedeny">​</a></h3>
<p>Set <code>frameDeny</code> to <code>true</code> to add the <code>X-Frame-Options</code> header with the value of <code>DENY</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customframeoptionsvalue"><code>customFrameOptionsValue</code><a href="#customframeoptionsvalue" class="hash-link" aria-label="Direct link to customframeoptionsvalue" title="Direct link to customframeoptionsvalue">​</a></h3>
<p>The <code>customFrameOptionsValue</code> allows the <code>X-Frame-Options</code> header value to be set with a custom value.
This overrides the <code>FrameDeny</code> option.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contenttypenosniff"><code>contentTypeNosniff</code><a href="#contenttypenosniff" class="hash-link" aria-label="Direct link to contenttypenosniff" title="Direct link to contenttypenosniff">​</a></h3>
<p>Set <code>contentTypeNosniff</code> to true to add the <code>X-Content-Type-Options</code> header with the value <code>nosniff</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browserxssfilter"><code>browserXssFilter</code><a href="#browserxssfilter" class="hash-link" aria-label="Direct link to browserxssfilter" title="Direct link to browserxssfilter">​</a></h3>
<p>Set <code>browserXssFilter</code> to true to add the <code>X-XSS-Protection</code> header with the value <code>1; mode=block</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custombrowserxssvalue"><code>customBrowserXSSValue</code><a href="#custombrowserxssvalue" class="hash-link" aria-label="Direct link to custombrowserxssvalue" title="Direct link to custombrowserxssvalue">​</a></h3>
<p>The <code>customBrowserXssValue</code> option allows the <code>X-XSS-Protection</code> header value to be set with a custom value.
This overrides the <code>BrowserXssFilter</code> option.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contentsecuritypolicy"><code>contentSecurityPolicy</code><a href="#contentsecuritypolicy" class="hash-link" aria-label="Direct link to contentsecuritypolicy" title="Direct link to contentsecuritypolicy">​</a></h3>
<p>The <code>contentSecurityPolicy</code> option allows the <code>Content-Security-Policy</code> header value to be set with a custom value.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contentsecuritypolicyreportonly"><code>contentSecurityPolicyReportOnly</code><a href="#contentsecuritypolicyreportonly" class="hash-link" aria-label="Direct link to contentsecuritypolicyreportonly" title="Direct link to contentsecuritypolicyreportonly">​</a></h3>
<p>The <code>contentSecurityPolicyReportOnly</code> option allows the <code>Content-Security-Policy-Report-Only</code> header value to be set with a custom value.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="publickey"><code>publicKey</code><a href="#publickey" class="hash-link" aria-label="Direct link to publickey" title="Direct link to publickey">​</a></h3>
<p>The <code>publicKey</code> implements HPKP to prevent MITM attacks with forged certificates.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="referrerpolicy"><code>referrerPolicy</code><a href="#referrerpolicy" class="hash-link" aria-label="Direct link to referrerpolicy" title="Direct link to referrerpolicy">​</a></h3>
<p>The <code>referrerPolicy</code> allows sites to control whether browsers forward the <code>Referer</code> header to other sites.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="featurepolicy"><code>featurePolicy</code><a href="#featurepolicy" class="hash-link" aria-label="Direct link to featurepolicy" title="Direct link to featurepolicy">​</a></h3>
<p>!!! warning</p>
<p>Deprecated in favor of <a href="#permissionsPolicy"><code>permissionsPolicy</code></a></p>
<p>The <code>featurePolicy</code> allows sites to control browser features.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissionspolicy"><code>permissionsPolicy</code><a href="#permissionspolicy" class="hash-link" aria-label="Direct link to permissionspolicy" title="Direct link to permissionspolicy">​</a></h3>
<p>The <code>permissionsPolicy</code> allows sites to control browser features.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="isdevelopment"><code>isDevelopment</code><a href="#isdevelopment" class="hash-link" aria-label="Direct link to isdevelopment" title="Direct link to isdevelopment">​</a></h3>
<p>Set <code>isDevelopment</code> to <code>true</code> when developing to mitigate the unwanted effects of the <code>AllowedHosts</code>, SSL, and STS options.
Usually testing takes place using HTTP, not HTTPS, and on <code>localhost</code>, not your production domain.
If you would like your development environment to mimic production with complete Host blocking, SSL redirects, and STS headers, leave this as <code>false</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/middlewares/http/headers.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc/docs/middlewares/http/grpcweb"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Mesh GrpcWeb Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc/docs/middlewares/http/inflightreq"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mesh InFlightReq Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration-examples" class="table-of-contents__link toc-highlight">Configuration Examples</a><ul><li><a href="#adding-headers-to-the-request-and-the-response" class="table-of-contents__link toc-highlight">Adding Headers to the Request and the Response</a></li><li><a href="#adding-and-removing-headers" class="table-of-contents__link toc-highlight">Adding and Removing Headers</a></li><li><a href="#using-security-headers" class="table-of-contents__link toc-highlight">Using Security Headers</a></li><li><a href="#cors-headers" class="table-of-contents__link toc-highlight">CORS Headers</a></li></ul></li><li><a href="#configuration-options" class="table-of-contents__link toc-highlight">Configuration Options</a><ul><li><a href="#general" class="table-of-contents__link toc-highlight">General</a></li><li><a href="#customrequestheaders" class="table-of-contents__link toc-highlight"><code>customRequestHeaders</code></a></li><li><a href="#customresponseheaders" class="table-of-contents__link toc-highlight"><code>customResponseHeaders</code></a></li><li><a href="#accesscontrolallowcredentials" class="table-of-contents__link toc-highlight"><code>accessControlAllowCredentials</code></a></li><li><a href="#accesscontrolallowheaders" class="table-of-contents__link toc-highlight"><code>accessControlAllowHeaders</code></a></li><li><a href="#accesscontrolallowmethods" class="table-of-contents__link toc-highlight"><code>accessControlAllowMethods</code></a></li><li><a href="#accesscontrolalloworiginlist" class="table-of-contents__link toc-highlight"><code>accessControlAllowOriginList</code></a></li><li><a href="#accesscontrolalloworiginlistregex" class="table-of-contents__link toc-highlight"><code>accessControlAllowOriginListRegex</code></a></li><li><a href="#accesscontrolexposeheaders" class="table-of-contents__link toc-highlight"><code>accessControlExposeHeaders</code></a></li><li><a href="#accesscontrolmaxage" class="table-of-contents__link toc-highlight"><code>accessControlMaxAge</code></a></li><li><a href="#addvaryheader" class="table-of-contents__link toc-highlight"><code>addVaryHeader</code></a></li><li><a href="#allowedhosts" class="table-of-contents__link toc-highlight"><code>allowedHosts</code></a></li><li><a href="#hostsproxyheaders" class="table-of-contents__link toc-highlight"><code>hostsProxyHeaders</code></a></li><li><a href="#sslredirect" class="table-of-contents__link toc-highlight"><code>sslRedirect</code></a></li><li><a href="#ssltemporaryredirect" class="table-of-contents__link toc-highlight"><code>sslTemporaryRedirect</code></a></li><li><a href="#sslhost" class="table-of-contents__link toc-highlight"><code>sslHost</code></a></li><li><a href="#sslproxyheaders" class="table-of-contents__link toc-highlight"><code>sslProxyHeaders</code></a></li><li><a href="#sslforcehost" class="table-of-contents__link toc-highlight"><code>sslForceHost</code></a></li><li><a href="#stsseconds" class="table-of-contents__link toc-highlight"><code>stsSeconds</code></a></li><li><a href="#stsincludesubdomains" class="table-of-contents__link toc-highlight"><code>stsIncludeSubdomains</code></a></li><li><a href="#stspreload" class="table-of-contents__link toc-highlight"><code>stsPreload</code></a></li><li><a href="#forcestsheader" class="table-of-contents__link toc-highlight"><code>forceSTSHeader</code></a></li><li><a href="#framedeny" class="table-of-contents__link toc-highlight"><code>frameDeny</code></a></li><li><a href="#customframeoptionsvalue" class="table-of-contents__link toc-highlight"><code>customFrameOptionsValue</code></a></li><li><a href="#contenttypenosniff" class="table-of-contents__link toc-highlight"><code>contentTypeNosniff</code></a></li><li><a href="#browserxssfilter" class="table-of-contents__link toc-highlight"><code>browserXssFilter</code></a></li><li><a href="#custombrowserxssvalue" class="table-of-contents__link toc-highlight"><code>customBrowserXSSValue</code></a></li><li><a href="#contentsecuritypolicy" class="table-of-contents__link toc-highlight"><code>contentSecurityPolicy</code></a></li><li><a href="#contentsecuritypolicyreportonly" class="table-of-contents__link toc-highlight"><code>contentSecurityPolicyReportOnly</code></a></li><li><a href="#publickey" class="table-of-contents__link toc-highlight"><code>publicKey</code></a></li><li><a href="#referrerpolicy" class="table-of-contents__link toc-highlight"><code>referrerPolicy</code></a></li><li><a href="#featurepolicy" class="table-of-contents__link toc-highlight"><code>featurePolicy</code></a></li><li><a href="#permissionspolicy" class="table-of-contents__link toc-highlight"><code>permissionsPolicy</code></a></li><li><a href="#isdevelopment" class="table-of-contents__link toc-highlight"><code>isDevelopment</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">其他</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/opendatav/mesh" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Mesh, Inc. Built with Mesh.</div></div></div></footer></div>
</body>
</html>