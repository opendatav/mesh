"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[746],{7995:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"security/content-length","title":"Content-Length","description":"Enforce strict Content\u2011Length validation in Mesh by streaming or full buffering to prevent truncated or over\u2011long requests and responses. Read the technical documentation.","source":"@site/docs/security/content-length.md","sourceDirName":"security","slug":"/security/content-length","permalink":"/doc/docs/security/content-length","draft":false,"unlisted":false,"editUrl":"https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/security/content-length.md","tags":[],"version":"current","frontMatter":{"title":"Content-Length","description":"Enforce strict Content\u2011Length validation in Mesh by streaming or full buffering to prevent truncated or over\u2011long requests and responses. Read the technical documentation."},"sidebar":"tutorialSidebar","previous":{"title":"Mesh ZooKeeper Documentation","permalink":"/doc/docs/providers/zookeeper"},"next":{"title":"TLS Certificates in Multi\u2011Tenant Kubernetes","permalink":"/doc/docs/security/tls-certs-in-multi-tenant-kubernetes"}}');var o=n(4848),s=n(8453);const i={title:"Content-Length",description:"Enforce strict Content\u2011Length validation in Mesh by streaming or full buffering to prevent truncated or over\u2011long requests and responses. Read the technical documentation."},c=void 0,a={},d=[];function l(e){const t={a:"a",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["Mesh acts as a streaming proxy. By default, it checks each chunk of data against the ",(0,o.jsx)(t.code,{children:"Content-Length"})," header as it passes it on to the backend or client. This live check blocks truncated or over\u2011long streams without holding the entire message."]}),"\n",(0,o.jsxs)(t.p,{children:["If you need Mesh to read and verify the full body before any data moves on, add the ",(0,o.jsx)(t.a,{href:"../../reference/routing-configuration/http/middlewares/buffering.md",children:"buffering middleware"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yaml",children:"http:\n  middlewares:\n    buffer-and-validate:\n      buffering: {}\n"})}),"\n",(0,o.jsx)(t.p,{children:"With buffering enabled, Mesh will:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Read the entire request or response into memory."}),"\n",(0,o.jsxs)(t.li,{children:["Compare the actual byte count to the ",(0,o.jsx)(t.code,{children:"Content-Length"})," header."]}),"\n",(0,o.jsx)(t.li,{children:"Reject the message if the counts do not match."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"!!!warning\nBuffering adds overhead. Every request and response is held in full before forwarding, which can increase memory use and latency. Use it when strict content validation is critical to your security posture."})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var r=n(6540);const o={},s=r.createContext(o);function i(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);