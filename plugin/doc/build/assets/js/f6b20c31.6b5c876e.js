"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[8492],{2273:(e,r,d)=>{d.r(r),d.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>o,frontMatter:()=>n,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"middlewares/http/overview","title":"Mesh Proxy HTTP Middleware Overview","description":"Read the official Mesh Proxy documentation for an overview of the available HTTP middleware.","source":"@site/docs/middlewares/http/overview.md","sourceDirName":"middlewares/http","slug":"/middlewares/http/overview","permalink":"/doc/docs/middlewares/http/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/middlewares/http/overview.md","tags":[],"version":"current","frontMatter":{"title":"Mesh Proxy HTTP Middleware Overview","description":"Read the official Mesh Proxy documentation for an overview of the available HTTP middleware."},"sidebar":"tutorialSidebar","previous":{"title":"Mesh HTTP Middlewares IPWhiteList","permalink":"/doc/docs/middlewares/http/ipwhitelist"},"next":{"title":"Mesh PassTLSClientCert Documentation","permalink":"/doc/docs/middlewares/http/passtlsclientcert"}}');var i=d(4848),s=d(8453);const n={title:"Mesh Proxy HTTP Middleware Overview",description:"Read the official Mesh Proxy documentation for an overview of the available HTTP middleware."},a="HTTP Middlewares",l={},c=[{value:"Configuration Example",id:"configuration-example",level:2},{value:"Available HTTP Middlewares",id:"available-http-middlewares",level:2},{value:"Community Middlewares",id:"community-middlewares",level:2}];function h(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"http-middlewares",children:"HTTP Middlewares"})}),"\n",(0,i.jsx)(r.p,{children:"Controlling connections"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Overview",src:d(3021).A+"",width:"719",height:"398"})}),"\n",(0,i.jsx)(r.h2,{id:"configuration-example",children:"Configuration Example"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",metastring:'tab="Docker & Swarm"',children:'# As a Docker Label\nwhoami:\n  #  A container that exposes an API to show its IP address\n  image: Mesh/whoami\n  labels:\n    # Create a middleware named `foo-add-prefix`\n    - "Mesh.http.middlewares.foo-add-prefix.addprefix.prefix=/foo"\n    # Apply the middleware named `foo-add-prefix` to the router named `router1`\n    - "Mesh.http.routers.router1.middlewares=foo-add-prefix@docker"\n'})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",metastring:'tab="IngressRoute"',children:"# As a Kubernetes Mesh IngressRoute\n---\napiVersion: Mesh.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: stripprefix\nspec:\n  stripPrefix:\n    prefixes:\n      - /stripit\n\n---\napiVersion: Mesh.io/v1alpha1\nkind: IngressRoute\nmetadata:\n  name: ingressroute\nspec:\n# more fields...\n  routes:\n    # more fields...\n    middlewares:\n      - name: stripprefix\n"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",metastring:'tab="Consul Catalog"',children:'# Create a middleware named `foo-add-prefix`\n- "Mesh.http.middlewares.foo-add-prefix.addprefix.prefix=/foo"\n# Apply the middleware named `foo-add-prefix` to the router named `router1`\n- "Mesh.http.routers.router1.middlewares=foo-add-prefix@consulcatalog"\n'})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:'# As TOML Configuration File\n[http.routers]\n  [http.routers.router1]\n    service = "service1"\n    middlewares = ["foo-add-prefix"]\n    rule = "Host(`example.com`)"\n\n[http.middlewares]\n  [http.middlewares.foo-add-prefix.addPrefix]\n    prefix = "/foo"\n\n[http.services]\n  [http.services.service1]\n    [http.services.service1.loadBalancer]\n\n      [[http.services.service1.loadBalancer.servers]]\n        url = "http://127.0.0.1:80"\n'})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:'# As YAML Configuration File\nhttp:\n  routers:\n    router1:\n      service: service1\n      middlewares:\n        - "foo-add-prefix"\n      rule: "Host(`example.com`)"\n\n  middlewares:\n    foo-add-prefix:\n      addPrefix:\n        prefix: "/foo"\n\n  services:\n    service1:\n      loadBalancer:\n        servers:\n          - url: "http://127.0.0.1:80"\n'})}),"\n",(0,i.jsx)(r.h2,{id:"available-http-middlewares",children:"Available HTTP Middlewares"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Middleware"}),(0,i.jsx)(r.th,{children:"Purpose"}),(0,i.jsx)(r.th,{children:"Area"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/addprefix",children:"AddPrefix"})}),(0,i.jsx)(r.td,{children:"Adds a Path Prefix"}),(0,i.jsx)(r.td,{children:"Path Modifier"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/basicauth",children:"BasicAuth"})}),(0,i.jsx)(r.td,{children:"Adds Basic Authentication"}),(0,i.jsx)(r.td,{children:"Security, Authentication"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/buffering",children:"Buffering"})}),(0,i.jsx)(r.td,{children:"Buffers the request/response"}),(0,i.jsx)(r.td,{children:"Request Lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/chain",children:"Chain"})}),(0,i.jsx)(r.td,{children:"Combines multiple pieces of middleware"}),(0,i.jsx)(r.td,{children:"Misc"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/circuitbreaker",children:"CircuitBreaker"})}),(0,i.jsx)(r.td,{children:"Prevents calling unhealthy services"}),(0,i.jsx)(r.td,{children:"Request Lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/compress",children:"Compress"})}),(0,i.jsx)(r.td,{children:"Compresses the response"}),(0,i.jsx)(r.td,{children:"Content Modifier"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/contenttype",children:"ContentType"})}),(0,i.jsx)(r.td,{children:"Handles Content-Type auto-detection"}),(0,i.jsx)(r.td,{children:"Misc"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/digestauth",children:"DigestAuth"})}),(0,i.jsx)(r.td,{children:"Adds Digest Authentication"}),(0,i.jsx)(r.td,{children:"Security, Authentication"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/errorpages",children:"Errors"})}),(0,i.jsx)(r.td,{children:"Defines custom error pages"}),(0,i.jsx)(r.td,{children:"Request Lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/forwardauth",children:"ForwardAuth"})}),(0,i.jsx)(r.td,{children:"Delegates Authentication"}),(0,i.jsx)(r.td,{children:"Security, Authentication"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/headers",children:"Headers"})}),(0,i.jsx)(r.td,{children:"Adds / Updates headers"}),(0,i.jsx)(r.td,{children:"Security"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/ipallowlist",children:"IPAllowList"})}),(0,i.jsx)(r.td,{children:"Limits the allowed client IPs"}),(0,i.jsx)(r.td,{children:"Security, Request lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/inflightreq",children:"InFlightReq"})}),(0,i.jsx)(r.td,{children:"Limits the number of simultaneous connections"}),(0,i.jsx)(r.td,{children:"Security, Request lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/passtlsclientcert",children:"PassTLSClientCert"})}),(0,i.jsx)(r.td,{children:"Adds Client Certificates in a Header"}),(0,i.jsx)(r.td,{children:"Security"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/ratelimit",children:"RateLimit"})}),(0,i.jsx)(r.td,{children:"Limits the call frequency"}),(0,i.jsx)(r.td,{children:"Security, Request lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/redirectscheme",children:"RedirectScheme"})}),(0,i.jsx)(r.td,{children:"Redirects based on scheme"}),(0,i.jsx)(r.td,{children:"Request lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/redirectregex",children:"RedirectRegex"})}),(0,i.jsx)(r.td,{children:"Redirects based on regex"}),(0,i.jsx)(r.td,{children:"Request lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/replacepath",children:"ReplacePath"})}),(0,i.jsx)(r.td,{children:"Changes the path of the request"}),(0,i.jsx)(r.td,{children:"Path Modifier"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/replacepathregex",children:"ReplacePathRegex"})}),(0,i.jsx)(r.td,{children:"Changes the path of the request"}),(0,i.jsx)(r.td,{children:"Path Modifier"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/retry",children:"Retry"})}),(0,i.jsx)(r.td,{children:"Automatically retries in case of error"}),(0,i.jsx)(r.td,{children:"Request lifecycle"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/stripprefix",children:"StripPrefix"})}),(0,i.jsx)(r.td,{children:"Changes the path of the request"}),(0,i.jsx)(r.td,{children:"Path Modifier"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.a,{href:"/doc/docs/middlewares/http/stripprefixregex",children:"StripPrefixRegex"})}),(0,i.jsx)(r.td,{children:"Changes the path of the request"}),(0,i.jsx)(r.td,{children:"Path Modifier"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"community-middlewares",children:"Community Middlewares"}),"\n",(0,i.jsxs)(r.p,{children:["Please take a look at the community-contributed plugins in the ",(0,i.jsx)(r.a,{href:"https://plugins.Mesh.io/plugins",children:"plugin catalog"}),"."]})]})}function o(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},3021:(e,r,d)=>{d.d(r,{A:()=>t});const t=d.p+"assets/images/overview-3158549aee80e7d78ffd53edf9c601b5.png"},8453:(e,r,d)=>{d.d(r,{R:()=>n,x:()=>a});var t=d(6540);const i={},s=t.createContext(i);function n(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);