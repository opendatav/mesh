"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[1485],{7937:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"reference/install-configuration/observability/tracing","title":"Mesh Tracing Overview","description":"The Mesh Proxy tracing system allows developers to visualize call flows in their infrastructure. Read the full documentation.","source":"@site/docs/reference/install-configuration/observability/tracing.md","sourceDirName":"reference/install-configuration/observability","slug":"/reference/install-configuration/observability/tracing","permalink":"/doc/docs/reference/install-configuration/observability/tracing","draft":false,"unlisted":false,"editUrl":"https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/reference/install-configuration/observability/tracing.md","tags":[],"version":"current","frontMatter":{"title":"Mesh Tracing Overview","description":"The Mesh Proxy tracing system allows developers to visualize call flows in their infrastructure. Read the full documentation."},"sidebar":"tutorialSidebar","previous":{"title":"options-list","permalink":"/doc/docs/reference/install-configuration/observability/options-list"},"next":{"title":"Mesh Docker Documentation","permalink":"/doc/docs/reference/install-configuration/providers/docker"}}');var n=l(4848),i=l(8453);const r={title:"Mesh Tracing Overview",description:"The Mesh Proxy tracing system allows developers to visualize call flows in their infrastructure. Read the full documentation."},c="Tracing",d={},o=[{value:"Configuration Example",id:"configuration-example",level:2},{value:"Configuration Options",id:"configuration-options",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"tracing",children:"Tracing"})}),"\n",(0,n.jsx)(t.p,{children:"Visualize the Requests Flow"}),"\n",(0,n.jsx)(t.p,{children:"The tracing system allows developers to visualize call flows in their infrastructure."}),"\n",(0,n.jsxs)(t.p,{children:["Mesh uses ",(0,n.jsx)(t.a,{href:"https://opentelemetry.io/",title:"Link to website of OTel",children:"OpenTelemetry"}),", an open standard designed for distributed tracing."]}),"\n",(0,n.jsx)(t.h2,{id:"configuration-example",children:"Configuration Example"}),"\n",(0,n.jsx)(t.p,{children:"To enable the tracing:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:"tracing: {}\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:"[tracing]\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",metastring:'tab="CLI"',children:"--tracing=true\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",metastring:'tab="Helm Chart Values"',children:"  tracing:\n    otlp:\n        enabled: true\n"})}),"\n",(0,n.jsx)(t.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Field"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Default"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Required"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.addInternals"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Enables tracing for internal resources (e.g.: ",(0,n.jsx)(t.code,{children:"ping@internal"}),")."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"false"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.serviceName"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Service name used in selected backend."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'"Mesh"'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.sampleRate"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The proportion of requests to trace, specified between 0.0 and 1.0."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"1.0"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.resourceAttributes"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Defines additional resource attributes to be sent to the collector."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"[]"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.capturedRequestHeaders"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Defines the list of request headers to add as attributes.",(0,n.jsx)("br",{}),"It applies to client and server kind spans."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"[]"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.capturedResponseHeaders"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Defines the list of response headers to add as attributes.",(0,n.jsx)("br",{}),"It applies to client and server kind spans."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"[]"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"False"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.safeQueryParams"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["By default, all query parameters are redacted.",(0,n.jsx)("br",{}),"Defines the list of query parameters to not redact."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"[]"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.http"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This instructs the exporter to send the tracing to the OpenTelemetry Collector using HTTP.",(0,n.jsx)("br",{})," Setting the sub-options with their default values."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"null/false"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.http.endpoint"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["URL of the OpenTelemetry Collector to send tracing to.",(0,n.jsx)("br",{}),' Format="',(0,n.jsx)(t.code,{children:"<scheme>://<host>:<port><path>"}),'"']}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:['"',(0,n.jsx)(t.a,{href:"http://localhost:4318/v1/tracing",children:"http://localhost:4318/v1/tracing"}),'"']}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.http.headers"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Additional headers sent with tracing by the exporter to the OpenTelemetry Collector."}),(0,n.jsx)(t.td,{style:{textAlign:"left"}}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.http.tls.ca"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Path to the certificate authority used for the secure connection to the OpenTelemetry Collector, it defaults to the system bundle."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.http.tls.cert"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Path to the public certificate used for the secure connection to the OpenTelemetry Collector. When using this option, setting the ",(0,n.jsx)(t.code,{children:"key"})," option is required."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.http.tls.key"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This instructs the exporter to send the tracing to the OpenTelemetry Collector using HTTP.",(0,n.jsx)("br",{})," Setting the sub-options with their default values."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'""null/false ""'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.http.tls.insecureskipverify"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["If ",(0,n.jsx)(t.code,{children:"insecureSkipVerify"})," is ",(0,n.jsx)(t.code,{children:"true"}),", the TLS connection to the OpenTelemetry Collector accepts any certificate presented by the server regardless of the hostnames it covers."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"false"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"This instructs the exporter to send tracing to the OpenTelemetry Collector using gRPC."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"false"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc.endpoint"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Address of the OpenTelemetry Collector to send tracing to.",(0,n.jsx)("br",{}),' Format="',(0,n.jsx)(t.code,{children:"<host>:<port>"}),'"']}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'"localhost:4317"'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc.headers"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Additional headers sent with tracing by the exporter to the OpenTelemetry Collector."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"[]"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc.insecure"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Allows exporter to send tracing to the OpenTelemetry Collector without using a secured protocol."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"false"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc.tls.ca"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Path to the certificate authority used for the secure connection to the OpenTelemetry Collector, it defaults to the system bundle."}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc.tls.cert"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Path to the public certificate used for the secure connection to the OpenTelemetry Collector. When using this option, setting the ",(0,n.jsx)(t.code,{children:"key"})," option is required."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'""'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc.tls.key"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This instructs the exporter to send the tracing to the OpenTelemetry Collector using HTTP.",(0,n.jsx)("br",{})," Setting the sub-options with their default values."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:'""null/false ""'}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"tracing.otlp.grpc.tls.insecureskipverify"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["If ",(0,n.jsx)(t.code,{children:"insecureSkipVerify"})," is ",(0,n.jsx)(t.code,{children:"true"}),", the TLS connection to the OpenTelemetry Collector accepts any certificate presented by the server regardless of the hostnames it covers."]}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"false"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Yes"})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,t,l)=>{l.d(t,{R:()=>r,x:()=>c});var s=l(6540);const n={},i=s.createContext(n);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);