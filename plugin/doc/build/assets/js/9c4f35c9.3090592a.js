"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[4497],{8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>t});var s=n(6540);const c={},i=s.createContext(c);function o(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),s.createElement(i.Provider,{value:r},e.children)}},9955:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"reference/routing-configuration/other-providers/docker","title":"Mesh Docker Routing Documentation","description":"This guide will teach you how to attach labels to your containers, to route traffic and load balance with Mesh and Docker.","source":"@site/docs/reference/routing-configuration/other-providers/docker.md","sourceDirName":"reference/routing-configuration/other-providers","slug":"/reference/routing-configuration/other-providers/docker","permalink":"/doc/docs/reference/routing-configuration/other-providers/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/reference/routing-configuration/other-providers/docker.md","tags":[],"version":"current","frontMatter":{"title":"Mesh Docker Routing Documentation","description":"This guide will teach you how to attach labels to your containers, to route traffic and load balance with Mesh and Docker."},"sidebar":"tutorialSidebar","previous":{"title":"Mesh Consul Catalog Routing","permalink":"/doc/docs/reference/routing-configuration/other-providers/consul-catalog"},"next":{"title":"Mesh ECS Documentation","permalink":"/doc/docs/reference/routing-configuration/other-providers/ecs"}}');var c=n(4848),i=n(8453);const o={title:"Mesh Docker Routing Documentation",description:"This guide will teach you how to attach labels to your containers, to route traffic and load balance with Mesh and Docker."},t="Mesh & Docker",a={},l=[{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Routing Configuration",id:"routing-configuration",level:2},{value:"General",id:"general",level:3},{value:"Service definition",id:"service-definition",level:4},{value:"Routers",id:"routers",level:3},{value:"Services",id:"services",level:3},{value:"Middleware",id:"middleware",level:3},{value:"TCP",id:"tcp",level:3},{value:"TCP Routers",id:"tcp-routers",level:4},{value:"TCP Services",id:"tcp-services",level:4},{value:"TCP Middleware",id:"tcp-middleware",level:4},{value:"UDP",id:"udp",level:3},{value:"UDP Routers",id:"udp-routers",level:4},{value:"UDP Services",id:"udp-services",level:4},{value:"Specific Provider Options",id:"specific-provider-options",level:3},{value:"<code>Mesh.enable</code>",id:"meshenable",level:4},{value:"<code>Mesh.docker.network</code>",id:"meshdockernetwork",level:4}];function d(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.header,{children:(0,c.jsx)(r.h1,{id:"mesh--docker",children:"Mesh & Docker"})}),"\n",(0,c.jsx)(r.p,{children:"One of the best feature of Mesh is to delegate the routing configuration to the application level.\nWith Docker, Mesh can leverage labels attached to a container to generate routing rules."}),"\n",(0,c.jsx)(r.p,{children:'!!! warning "Labels & sensitive data"'}),"\n",(0,c.jsxs)(r.p,{children:["We recommend to ",(0,c.jsx)(r.em,{children:"not"})," use labels to store sensitive data (certificates, credentials, etc).\nInstead, we recommend to store sensitive data in a safer storage (secrets, file, etc)."]}),"\n",(0,c.jsx)(r.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,c.jsx)(r.p,{children:'??? example "Configuring Docker & Deploying / Exposing one Service"'}),"\n",(0,c.jsx)(r.p,{children:"Enabling the docker provider"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:"providers:\n  docker: {}\n"})}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:"[providers.docker]\n"})}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-bash",metastring:'tab="CLI"',children:"--providers.docker=true\n"})}),"\n",(0,c.jsx)(r.p,{children:"Attaching labels to containers (in your docker compose file)"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'version: "3"\nservices:\n  my-container:\n    # ...\n    labels:\n      - Mesh.http.routers.my-container.rule=Host(`example.com`)\n'})}),"\n",(0,c.jsx)(r.p,{children:'??? example "Specify a Custom Port for the Container"'}),"\n",(0,c.jsxs)(r.p,{children:["Forward requests for ",(0,c.jsx)(r.code,{children:"http://example.com"})," to ",(0,c.jsx)(r.code,{children:"http://<private IP of container>:12345"}),":"]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'version: "3"\nservices:\n  my-container:\n    # ...\n    labels:\n      - Mesh.http.routers.my-container.rule=Host(`example.com`)\n      # Tell Mesh to use the port 12345 to connect to `my-container`\n      - Mesh.http.services.my-service.loadbalancer.server.port=12345\n'})}),"\n",(0,c.jsxs)(r.p,{children:['!!! important "Mesh Connecting to the Wrong Port: ',(0,c.jsx)(r.code,{children:"HTTP/502 Gateway Error"}),'"\nBy default, Mesh uses the first exposed port of a container.']}),"\n",(0,c.jsxs)(r.p,{children:["Setting the label ",(0,c.jsx)(r.code,{children:"Mesh.http.services.xxx.loadbalancer.server.port"}),"\noverrides that behavior."]}),"\n",(0,c.jsx)(r.p,{children:'??? example "Specifying more than one router and service per container"'}),"\n",(0,c.jsx)(r.p,{children:"Forwarding requests to more than one port on a container requires referencing the service loadbalancer port definition using the service parameter on the router."}),"\n",(0,c.jsxs)(r.p,{children:["In this example, requests are forwarded for ",(0,c.jsx)(r.code,{children:"http://example-a.com"})," to ",(0,c.jsx)(r.code,{children:"http://<private IP of container>:8000"})," in addition to ",(0,c.jsx)(r.code,{children:"http://example-b.com"})," forwarding to ",(0,c.jsx)(r.code,{children:"http://<private IP of container>:9000"}),":"]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'version: "3"\nservices:\n  my-container:\n    # ...\n    labels:\n      - Mesh.http.routers.www-router.rule=Host(`example-a.com`)\n      - Mesh.http.routers.www-router.service=www-service\n      - Mesh.http.services.www-service.loadbalancer.server.port=8000\n      - Mesh.http.routers.admin-router.rule=Host(`example-b.com`)\n      - Mesh.http.routers.admin-router.service=admin-service\n      - Mesh.http.services.admin-service.loadbalancer.server.port=9000\n'})}),"\n",(0,c.jsx)(r.h2,{id:"routing-configuration",children:"Routing Configuration"}),"\n",(0,c.jsx)(r.p,{children:'!!! info "Labels"'}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsx)(r.li,{children:"Labels are case-insensitive."}),"\n"]}),"\n",(0,c.jsx)(r.p,{children:'!!! tip "TLS Default Generated Certificates"'}),"\n",(0,c.jsxs)(r.p,{children:["To learn how to configure Mesh default generated certificate, refer to the ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/tls/tls-certificates#acme-default-certificate",children:"TLS Certificates"})," page."]}),"\n",(0,c.jsx)(r.h3,{id:"general",children:"General"}),"\n",(0,c.jsxs)(r.p,{children:["Mesh creates, for each container, a corresponding ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service",children:"service"})," and ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/router/rules-and-priority",children:"router"}),"."]}),"\n",(0,c.jsxs)(r.p,{children:["The Service automatically gets a server per instance of the container,\nand the router automatically gets a rule defined by ",(0,c.jsx)(r.code,{children:"defaultRule"})," (if no rule for it was defined in labels)."]}),"\n",(0,c.jsx)(r.h4,{id:"service-definition",children:"Service definition"}),"\n",(0,c.jsx)(r.p,{children:'??? example "Automatic assignment with one Service"'}),"\n",(0,c.jsx)(r.p,{children:"With labels in a compose file"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'labels:\n  - "Mesh.http.routers.myproxy.rule=Host(`example.net`)"\n  # service myservice gets automatically assigned to router myproxy\n  - "Mesh.http.services.myservice.loadbalancer.server.port=80"\n'})}),"\n",(0,c.jsx)(r.p,{children:'??? example "Automatic service creation with one Router"'}),"\n",(0,c.jsx)(r.p,{children:"With labels in a compose file"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'labels:\n  # no service specified or defined and yet one gets automatically created\n  # and assigned to router myproxy.\n  - "Mesh.http.routers.myproxy.rule=Host(`example.net`)"\n'})}),"\n",(0,c.jsx)(r.p,{children:'??? example "Explicit definition with one Service"'}),"\n",(0,c.jsx)(r.p,{children:"With labels in a compose file"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:"labels:\n  - Mesh.http.routers.www-router.rule=Host(`example-a.com`)\n  # Explicit link between the router and the service\n  - Mesh.http.routers.www-router.service=www-service\n  - Mesh.http.services.www-service.loadbalancer.server.port=8000\n"})}),"\n",(0,c.jsx)(r.h3,{id:"routers",children:"Routers"}),"\n",(0,c.jsxs)(r.p,{children:["To update the configuration of the Router automatically attached to the container,\nadd labels starting with ",(0,c.jsx)(r.code,{children:"Mesh.http.routers.<name-of-your-choice>."})," and followed by the option you want to change."]}),"\n",(0,c.jsxs)(r.p,{children:["For example, to change the rule, you could add the label ",(0,c.jsx)(r.code,{children:"Mesh.http.routers.my-container.rule=Host(`example.com`)"}),"."]}),"\n",(0,c.jsxs)(r.p,{children:['!!! warning "The character ',(0,c.jsx)(r.code,{children:"@"})," is not authorized in the router name ",(0,c.jsx)(r.code,{children:"<router_name>"}),'."']}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.rule"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/router/rules-and-priority",children:"rule"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.rule=Host(`example.com`)"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.ruleSyntax"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"!!! warning"}),"\n",(0,c.jsx)(r.p,{children:"RuleSyntax option is deprecated and will be removed in the next major version.\nPlease do not use this field and rewrite the router rules to use the v3 syntax."}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/router/rules-and-priority#rulesyntax",children:"ruleSyntax"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:"Mesh.http.routers.myrouter.ruleSyntax=v3\n"})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.entrypoints"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.entrypoints=ep1,ep2"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.middlewares"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/middlewares/overview",children:"middlewares overview"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.middlewares=auth,prefix,cb"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.service"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service",children:"service"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.service=myservice"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.tls"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/tls/overview",children:"tls"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.tls=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.tls.certresolver"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/install-configuration/tls/certificate-resolvers/overview",children:"certResolver"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.tls.certresolver=myresolver"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.tls.domains[n].main"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/install-configuration/tls/certificate-resolvers/acme#domain-definition",children:"domains"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.tls.domains[0].main=example.org"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.tls.domains[n].sans"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/install-configuration/tls/certificate-resolvers/acme#domain-definition",children:"domains"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.tls.domains[0].sans=test.example.org,dev.example.org"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.tls.options"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.tls.options=foobar"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.observability.accesslogs"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"The accessLogs option controls whether the router will produce access-logs."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.observability.accesslogs=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.observability.metrics"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"The metrics option controls whether the router will produce metrics."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.observability.metrics=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.observability.tracing"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"The tracing option controls whether the router will produce traces."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.observability.tracing=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.routers.<router_name>.priority"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/router/rules-and-priority#priority-calculation",children:"priority"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.routers.myrouter.priority=42"\n'})}),"\n",(0,c.jsx)(r.h3,{id:"services",children:"Services"}),"\n",(0,c.jsxs)(r.p,{children:["To update the configuration of the Service automatically attached to the container,\nadd labels starting with ",(0,c.jsx)(r.code,{children:"Mesh.http.services.<name-of-your-choice>."}),", followed by the option you want to change."]}),"\n",(0,c.jsxs)(r.p,{children:["For example, to change the ",(0,c.jsx)(r.code,{children:"passHostHeader"})," behavior,\nyou'd add the label ",(0,c.jsx)(r.code,{children:"Mesh.http.services.<name-of-your-choice>.loadbalancer.passhostheader=false"}),"."]}),"\n",(0,c.jsxs)(r.p,{children:['!!! warning "The character ',(0,c.jsx)(r.code,{children:"@"})," is not authorized in the service name ",(0,c.jsx)(r.code,{children:"<service_name>"}),'."']}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.server.port"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"Registers a port.\nUseful when the container exposes multiples ports."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.server.port=8080"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.server.scheme"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"Overrides the default scheme."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.server.scheme=http"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.serverstransport"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["Allows to reference a ServersTransport resource that is defined either with the File provider or the Kubernetes CRD one.\nSee ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/serverstransport",children:"serverstransport"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.serverstransport=foobar@file"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.passhostheader"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.passhostheader=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.headers.<header_name>"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.headers.X-Foo=foobar"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.hostname"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.hostname=example.org"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.interval"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.interval=10s"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.unhealthyinterval"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.unhealthyinterval=10s"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.path"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.path=/foo"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.method"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.method=foobar"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.status"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.status=42"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.port"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.port=42"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.scheme"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.scheme=http"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.timeout"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.timeout=10s"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.healthcheck.followredirects"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/load-balancing/service#health-check",children:"health check"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.healthcheck.followredirects=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.sticky.cookie"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.sticky.cookie=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.sticky.cookie.httponly"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.sticky.cookie.httponly=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.sticky.cookie.name"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.sticky.cookie.name=foobar"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.sticky.cookie.path"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.sticky.cookie.path=/foobar"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.sticky.cookie.secure"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.sticky.cookie.secure=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.sticky.cookie.samesite"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.sticky.cookie.samesite=none"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.sticky.cookie.maxage"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.sticky.cookie.maxage=42"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.http.services.<service_name>.loadbalancer.responseforwarding.flushinterval"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.http.services.myservice.loadbalancer.responseforwarding.flushinterval=10"\n'})}),"\n",(0,c.jsx)(r.h3,{id:"middleware",children:"Middleware"}),"\n",(0,c.jsxs)(r.p,{children:["You can declare pieces of middleware using labels starting with ",(0,c.jsx)(r.code,{children:"Mesh.http.middlewares.<name-of-your-choice>."}),",\nfollowed by the middleware type/options."]}),"\n",(0,c.jsxs)(r.p,{children:["For example, to declare a middleware ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/middlewares/redirectscheme",children:(0,c.jsx)(r.code,{children:"redirectscheme"})})," named ",(0,c.jsx)(r.code,{children:"my-redirect"}),",\nyou'd write ",(0,c.jsx)(r.code,{children:"Mesh.http.middlewares.my-redirect.redirectscheme.scheme=https"}),"."]}),"\n",(0,c.jsxs)(r.p,{children:["More information about available middlewares in the dedicated ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/http/middlewares/overview",children:"middlewares section"}),"."]}),"\n",(0,c.jsxs)(r.p,{children:['!!! warning "The character ',(0,c.jsx)(r.code,{children:"@"}),' is not authorized in the middleware name."']}),"\n",(0,c.jsx)(r.p,{children:'??? example "Declaring and Referencing a Middleware"'}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:"   services:\n     my-container:\n       # ...\n       labels:\n         # Declaring a middleware\n         - Mesh.http.middlewares.my-redirect.redirectscheme.scheme=https\n         # Referencing a middleware\n         - Mesh.http.routers.my-container.middlewares=my-redirect\n"})}),"\n",(0,c.jsx)(r.p,{children:'!!! warning "Conflicts in Declaration"'}),"\n",(0,c.jsx)(r.p,{children:"If you declare multiple middleware with the same name but with different parameters, the middleware fails to be declared."}),"\n",(0,c.jsx)(r.h3,{id:"tcp",children:"TCP"}),"\n",(0,c.jsx)(r.p,{children:"You can declare TCP Routers and/or Services using labels."}),"\n",(0,c.jsx)(r.p,{children:'??? example "Declaring TCP Routers with one Service"'}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'   services:\n     my-container:\n       # ...\n       labels:\n         - "Mesh.tcp.routers.my-router.rule=HostSNI(`example.com`)"\n         - "Mesh.tcp.routers.my-router.tls=true"\n         - "Mesh.tcp.services.my-service.loadbalancer.server.port=4123"\n'})}),"\n",(0,c.jsx)(r.p,{children:'!!! warning "TCP and HTTP"'}),"\n",(0,c.jsx)(r.p,{children:"If you declare a TCP Router/Service, it will prevent Mesh from automatically creating an HTTP Router/Service (like it does by default if no TCP Router/Service is defined).\nYou can declare both a TCP Router/Service and an HTTP Router/Service for the same container (but you have to do so manually)."}),"\n",(0,c.jsx)(r.h4,{id:"tcp-routers",children:"TCP Routers"}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.entrypoints"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/install-configuration/entrypoints",children:"entry points"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.entrypoints=ep1,ep2"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.rule"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/router/rules-and-priority#rules",children:"rule"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.rule=HostSNI(`example.com`)"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.ruleSyntax"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"!!! warning"}),"\n",(0,c.jsx)(r.p,{children:"RuleSyntax option is deprecated and will be removed in the next major version.\nPlease do not use this field and rewrite the router rules to use the v3 syntax."}),"\n",(0,c.jsx)(r.p,{children:"configure the rule syntax to be used for parsing the rule on a per-router basis."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:"Mesh.tcp.routers.mytcprouter.ruleSyntax=v3\n"})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.service"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/service",children:"service"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.service=myservice"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.tls"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/tls",children:"TLS"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.tls=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.tls.certresolver"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/tls#configuration-options",children:"certResolver"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.tls.certresolver=myresolver"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.tls.domains[n].main"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/tls",children:"TLS"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.tls.domains[0].main=example.org"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.tls.domains[n].sans"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/tls",children:"TLS"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.tls.domains[0].sans=test.example.org,dev.example.org"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.tls.options"}),'"']}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.tls.options=mysoptions"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.tls.passthrough"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/tls#passthrough",children:"TLS"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.tls.passthrough=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.routers.<router_name>.priority"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/router/rules-and-priority",children:"priority"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.routers.mytcprouter.priority=42"\n'})}),"\n",(0,c.jsx)(r.h4,{id:"tcp-services",children:"TCP Services"}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.services.<service_name>.loadbalancer.server.port"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"Registers a port of the application."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.services.mytcpservice.loadbalancer.server.port=423"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.services.<service_name>.loadbalancer.server.tls"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"Determines whether to use TLS when dialing with the backend."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.services.mytcpservice.loadbalancer.server.tls=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.services.<service_name>.loadbalancer.proxyprotocol.version"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/service#proxy-protocol",children:"PROXY protocol"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.services.mytcpservice.loadbalancer.proxyprotocol.version=1"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.tcp.services.<service_name>.loadbalancer.serverstransport"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["Allows to reference a ServersTransport resource that is defined either with the File provider or the Kubernetes CRD one.\nSee ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/serverstransport",children:"serverstransport"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.tcp.services.mytcpservice.loadbalancer.serverstransport=foobar@file"\n'})}),"\n",(0,c.jsx)(r.h4,{id:"tcp-middleware",children:"TCP Middleware"}),"\n",(0,c.jsxs)(r.p,{children:["You can declare pieces of middleware using tags starting with ",(0,c.jsx)(r.code,{children:"Mesh.tcp.middlewares.{name-of-your-choice}."}),", followed by the middleware type/options."]}),"\n",(0,c.jsxs)(r.p,{children:["For example, to declare a middleware ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/middlewares/inflightconn",children:(0,c.jsx)(r.code,{children:"InFlightConn"})})," named ",(0,c.jsx)(r.code,{children:"test-inflightconn"}),", you'd write ",(0,c.jsx)(r.code,{children:"Mesh.tcp.middlewares.test-inflightconn.inflightconn.amount=10"}),"."]}),"\n",(0,c.jsxs)(r.p,{children:["More information about available middlewares in the dedicated ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/tcp/middlewares/overview",children:"middlewares section"}),"."]}),"\n",(0,c.jsx)(r.p,{children:'??? example "Declaring and Referencing a Middleware"'}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:"# ...\n# Declaring a middleware\nMesh.tcp.middlewares.test-inflightconn.amount=10\n# Referencing a middleware\nMesh.tcp.routers.my-service.middlewares=test-inflightconn\n"})}),"\n",(0,c.jsx)(r.p,{children:'!!! warning "Conflicts in Declaration"'}),"\n",(0,c.jsx)(r.p,{children:"If you declare multiple middleware with the same name but with different parameters, the middleware fails to be declared."}),"\n",(0,c.jsx)(r.h3,{id:"udp",children:"UDP"}),"\n",(0,c.jsx)(r.p,{children:"You can declare UDP Routers and/or Services using labels."}),"\n",(0,c.jsx)(r.p,{children:'??? example "Declaring UDP Routers with one Service"'}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'   services:\n     my-container:\n       # ...\n       labels:\n         - "Mesh.udp.routers.my-router.entrypoints=udp"\n         - "Mesh.udp.services.my-service.loadbalancer.server.port=4123"\n'})}),"\n",(0,c.jsx)(r.p,{children:'!!! warning "UDP and HTTP"'}),"\n",(0,c.jsx)(r.p,{children:"If you declare a UDP Router/Service, it will prevent Mesh from automatically creating an HTTP Router/Service (like it does by default if no UDP Router/Service is defined).\nYou can declare both a UDP Router/Service and an HTTP Router/Service for the same container (but you have to do so manually)."}),"\n",(0,c.jsx)(r.h4,{id:"udp-routers",children:"UDP Routers"}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.udp.routers.<router_name>.entrypoints"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/install-configuration/entrypoints",children:"entry points"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.udp.routers.myudprouter.entrypoints=ep1,ep2"\n'})}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.udp.routers.<router_name>.service"}),'"']}),"\n",(0,c.jsxs)(r.p,{children:["See ",(0,c.jsx)(r.a,{href:"/doc/docs/reference/routing-configuration/udp/service",children:"service"})," for more information."]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.udp.routers.myudprouter.service=myservice"\n'})}),"\n",(0,c.jsx)(r.h4,{id:"udp-services",children:"UDP Services"}),"\n",(0,c.jsxs)(r.p,{children:['??? info "',(0,c.jsx)(r.code,{children:"Mesh.udp.services.<service_name>.loadbalancer.server.port"}),'"']}),"\n",(0,c.jsx)(r.p,{children:"Registers a port of the application."}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:' "Mesh.udp.services.myudpservice.loadbalancer.server.port=423"\n'})}),"\n",(0,c.jsx)(r.h3,{id:"specific-provider-options",children:"Specific Provider Options"}),"\n",(0,c.jsx)(r.h4,{id:"meshenable",children:(0,c.jsx)(r.code,{children:"Mesh.enable"})}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'- "Mesh.enable=true"\n'})}),"\n",(0,c.jsxs)(r.p,{children:["You can tell Mesh to consider (or not) the container by setting ",(0,c.jsx)(r.code,{children:"Mesh.enable"})," to true or false."]}),"\n",(0,c.jsxs)(r.p,{children:["This option overrides the value of ",(0,c.jsx)(r.code,{children:"exposedByDefault"}),"."]}),"\n",(0,c.jsx)(r.h4,{id:"meshdockernetwork",children:(0,c.jsx)(r.code,{children:"Mesh.docker.network"})}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-yaml",children:'- "Mesh.docker.network=mynetwork"\n'})}),"\n",(0,c.jsx)(r.p,{children:"Overrides the default docker network to use for connections to the container."}),"\n",(0,c.jsxs)(r.p,{children:["If a container is linked to several networks, be sure to set the proper network name (you can check this with ",(0,c.jsx)(r.code,{children:"docker inspect <container_id>"}),"),\notherwise it will randomly pick one (depending on how docker is returning them)."]}),"\n",(0,c.jsxs)(r.p,{children:["!!! warning\nWhen deploying a stack from a compose file ",(0,c.jsx)(r.code,{children:"stack"}),", the networks defined are prefixed with ",(0,c.jsx)(r.code,{children:"stack"}),"."]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,c.jsx)(r,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);