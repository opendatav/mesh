"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[2493],{4313:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"operations/include-api-examples","title":"include-api-examples","description":"","source":"@site/docs/operations/include-api-examples.md","sourceDirName":"operations","slug":"/operations/include-api-examples","permalink":"/doc/docs/operations/include-api-examples","draft":false,"unlisted":false,"editUrl":"https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/operations/include-api-examples.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Mesh Dashboard Documentation","permalink":"/doc/docs/operations/dashboard"},"next":{"title":"include-dashboard-custom-path-examples","permalink":"/doc/docs/operations/include-dashboard-custom-path-examples"}}');var s=t(4848),r=t(8453);const i={},o=void 0,c={},l=[];function p(e){const a={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-yaml",metastring:'tab="Docker & Swarm"',children:'# Dynamic Configuration\nlabels:\n  - "Mesh.http.routers.api.rule=Host(`Mesh.example.com`)"\n  - "Mesh.http.routers.api.service=api@internal"\n  - "Mesh.http.routers.api.middlewares=auth"\n  - "Mesh.http.middlewares.auth.basicauth.users=test:$$apr1$$H6uskkkW$$IgXLP6ewTrSuBkTrqE8wj/,test2:$$apr1$$d9hr9HBB$$4HxwgUir3HP4EsggP/QNo0"\n'})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-yaml",metastring:'tab="Docker (Swarm)"',children:'# Dynamic Configuration\ndeploy:\n  labels:\n    - "Mesh.http.routers.api.rule=Host(`Mesh.example.com`)"\n    - "Mesh.http.routers.api.service=api@internal"\n    - "Mesh.http.routers.api.middlewares=auth"\n    - "Mesh.http.middlewares.auth.basicauth.users=test:$$apr1$$H6uskkkW$$IgXLP6ewTrSuBkTrqE8wj/,test2:$$apr1$$d9hr9HBB$$4HxwgUir3HP4EsggP/QNo0"\n    # Dummy service for Swarm port detection. The port can be any valid integer value.\n    - "Mesh.http.services.dummy-svc.loadbalancer.server.port=9999"\n'})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-yaml",metastring:'tab="Kubernetes CRD"',children:'apiVersion: Mesh.io/v1alpha1\nkind: IngressRoute\nmetadata:\n  name: mesh-dashboard\nspec:\n  routes:\n  - match: Host(`Mesh.example.com`)\n    kind: Rule\n    services:\n    - name: api@internal\n      kind: MeshService\n    middlewares:\n      - name: auth\n---\napiVersion: Mesh.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: auth\nspec:\n  basicAuth:\n    secret: secretName # Kubernetes secret named "secretName"\n'})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-yaml",metastring:'tab="Consul Catalog"',children:'# Dynamic Configuration\n- "Mesh.http.routers.api.rule=Host(`Mesh.example.com`)"\n- "Mesh.http.routers.api.service=api@internal"\n- "Mesh.http.routers.api.middlewares=auth"\n- "Mesh.http.middlewares.auth.basicauth.users=test:$$apr1$$H6uskkkW$$IgXLP6ewTrSuBkTrqE8wj/,test2:$$apr1$$d9hr9HBB$$4HxwgUir3HP4EsggP/QNo0"\n'})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:'# Dynamic Configuration\nhttp:\n  routers:\n    api:\n      rule: Host(`Mesh.example.com`)\n      service: api@internal\n      middlewares:\n        - auth\n  middlewares:\n    auth:\n      basicAuth:\n        users:\n          - "test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/"\n          - "test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0"\n'})}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:'# Dynamic Configuration\n[http.routers.my-api]\n  rule = "Host(`Mesh.example.com`)"\n  service = "api@internal"\n  middlewares = ["auth"]\n\n[http.middlewares.auth.basicAuth]\n  users = [\n    "test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/",\n    "test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0",\n  ]\n'})})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},8453:(e,a,t)=>{t.d(a,{R:()=>i,x:()=>o});var n=t(6540);const s={},r=n.createContext(s);function i(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);