"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[6210],{8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(6540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}},9463:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"operations/ping","title":"Mesh Ping Documentation","description":"In Mesh Proxy, Ping lets you check the health of your Mesh instances. Read the technical documentation for configuration examples and options.","source":"@site/docs/operations/ping.md","sourceDirName":"operations","slug":"/operations/ping","permalink":"/doc/docs/operations/ping","draft":false,"unlisted":false,"editUrl":"https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/operations/ping.md","tags":[],"version":"current","frontMatter":{"title":"Mesh Ping Documentation","description":"In Mesh Proxy, Ping lets you check the health of your Mesh instances. Read the technical documentation for configuration examples and options."},"sidebar":"tutorialSidebar","previous":{"title":"include-dashboard-examples","permalink":"/doc/docs/operations/include-dashboard-examples"},"next":{"title":"Mesh Plugins Documentation","permalink":"/doc/docs/plugins/"}}');var s=t(4848),a=t(8453);const o={title:"Mesh Ping Documentation",description:"In Mesh Proxy, Ping lets you check the health of your Mesh instances. Read the technical documentation for configuration examples and options."},r="Ping",c={},d=[{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"<code>entryPoint</code>",id:"entrypoint",level:3},{value:"<code>manualRouting</code>",id:"manualrouting",level:3},{value:"<code>terminatingStatusCode</code>",id:"terminatingstatuscode",level:3}];function l(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"ping",children:"Ping"})}),"\n",(0,s.jsx)(n.p,{children:"Checking the Health of Your Mesh Instances"}),"\n",(0,s.jsx)(n.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,s.jsx)(n.p,{children:"To enable the API handler:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:"ping: {}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:"[ping]\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'tab="CLI"',children:"--ping=true\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"/ping"})," health-check URL is enabled with the command-line ",(0,s.jsx)(n.code,{children:"--ping"})," or config file option ",(0,s.jsx)(n.code,{children:"[ping]"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"entryPoint"})," where the ",(0,s.jsx)(n.code,{children:"/ping"})," is active can be customized with the ",(0,s.jsx)(n.code,{children:"entryPoint"})," option,\nwhose default value is ",(0,s.jsx)(n.code,{children:"Mesh"})," (port ",(0,s.jsx)(n.code,{children:"8080"}),")."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Path"}),(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/ping"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"GET"}),", ",(0,s.jsx)(n.code,{children:"HEAD"})]}),(0,s.jsxs)(n.td,{children:["An endpoint to check for Mesh process liveness. Return a code ",(0,s.jsx)(n.code,{children:"200"})," with the content: ",(0,s.jsx)(n.code,{children:"OK"})]})]})})]}),"\n",(0,s.jsxs)(n.p,{children:["!!! note\nThe ",(0,s.jsx)(n.code,{children:"cli"})," comes with a ",(0,s.jsx)(n.a,{href:"/doc/docs/operations/cli#healthcheck",children:(0,s.jsx)(n.code,{children:"healthcheck"})})," command which can be used for calling this endpoint."]}),"\n",(0,s.jsx)(n.h3,{id:"entrypoint",children:(0,s.jsx)(n.code,{children:"entryPoint"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:'Optional, Default="Mesh"'})}),"\n",(0,s.jsx)(n.p,{children:"Enabling /ping on a dedicated EntryPoint."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:'entryPoints:\n  ping:\n    address: ":8082"\n\nping:\n  entryPoint: "ping"\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:'[entryPoints]\n  [entryPoints.ping]\n    address = ":8082"\n\n[ping]\n  entryPoint = "ping"\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'tab="CLI"',children:"--entryPoints.ping.address=:8082\n--ping.entryPoint=ping\n"})}),"\n",(0,s.jsx)(n.h3,{id:"manualrouting",children:(0,s.jsx)(n.code,{children:"manualRouting"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Optional, Default=false"})}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"manualRouting"})," is ",(0,s.jsx)(n.code,{children:"true"}),", it disables the default internal router in order to allow one to create a custom router for the ",(0,s.jsx)(n.code,{children:"ping@internal"})," service."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:"ping:\n  manualRouting: true\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:"[ping]\n  manualRouting = true\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'tab="CLI"',children:"--ping.manualrouting=true\n"})}),"\n",(0,s.jsx)(n.h3,{id:"terminatingstatuscode",children:(0,s.jsx)(n.code,{children:"terminatingStatusCode"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Optional, Default=503"})}),"\n",(0,s.jsxs)(n.p,{children:["During the period in which Mesh is gracefully shutting down, the ping handler\nreturns a ",(0,s.jsx)(n.code,{children:"503"})," status code by default.",(0,s.jsx)(n.br,{}),"\n","If Mesh is behind, for example a load-balancer\ndoing health checks (such as the Kubernetes LivenessProbe), another code might\nbe expected as the signal for graceful termination.",(0,s.jsx)(n.br,{}),"\n","In that case, the terminatingStatusCode can be used to set the code returned by the ping\nhandler during termination."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'tab="File (YAML)"',children:"ping:\n  terminatingStatusCode: 204\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'tab="File (TOML)"',children:"[ping]\n  terminatingStatusCode = 204\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'tab="CLI"',children:"--ping.terminatingStatusCode=204\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);