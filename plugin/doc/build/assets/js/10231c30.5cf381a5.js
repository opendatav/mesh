"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7876],{8416:(e,s,r)=>{r.d(s,{A:()=>t});const t=r.p+"assets/images/headers-670622302fc689690eaa6d77a8888832.png"},8453:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>i});var t=r(6540);const d={},n=t.createContext(d);function a(e){const s=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),t.createElement(n.Provider,{value:s},e.children)}},9262:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"reference/routing-configuration/http/middlewares/headers","title":"Mesh Headers Documentation","description":"In Mesh Proxy, the HTTP headers middleware manages the headers of requests and responses. Read the technical documentation.","source":"@site/docs/reference/routing-configuration/http/middlewares/headers.md","sourceDirName":"reference/routing-configuration/http/middlewares","slug":"/reference/routing-configuration/http/middlewares/headers","permalink":"/doc/docs/reference/routing-configuration/http/middlewares/headers","draft":false,"unlisted":false,"editUrl":"https://github.com/opendatav/mesh/tree/main/packages/create-docusaurus/templates/shared/docs/reference/routing-configuration/http/middlewares/headers.md","tags":[],"version":"current","frontMatter":{"title":"Mesh Headers Documentation","description":"In Mesh Proxy, the HTTP headers middleware manages the headers of requests and responses. Read the technical documentation."},"sidebar":"tutorialSidebar","previous":{"title":"Mesh GrpcWeb Documentation","permalink":"/doc/docs/reference/routing-configuration/http/middlewares/grpcweb"},"next":{"title":"Mesh InFlightReq Documentation","permalink":"/doc/docs/reference/routing-configuration/http/middlewares/inflightreq"}}');var d=r(4848),n=r(8453);const a={title:"Mesh Headers Documentation",description:"In Mesh Proxy, the HTTP headers middleware manages the headers of requests and responses. Read the technical documentation."},i=void 0,l={},o=[{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Adding Headers to the Request and the Response",id:"adding-headers-to-the-request-and-the-response",level:3},{value:"Adding and Removing Headers",id:"adding-and-removing-headers",level:3},{value:"Using Security Headers",id:"using-security-headers",level:3},{value:"CORS Headers",id:"cors-headers",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"<code>accessControlAllowOriginList</code>",id:"accesscontrolalloworiginlist",level:3},{value:"<code>accessControlAllowOriginListRegex</code>",id:"accesscontrolalloworiginlistregex",level:3}];function c(e){const s={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.p,{children:(0,d.jsx)(s.img,{alt:"Headers",src:r(8416).A+"",width:"2420",height:"410"})}),"\n",(0,d.jsx)(s.p,{children:"The Headers middleware manages the headers of requests and responses."}),"\n",(0,d.jsx)(s.p,{children:"By default, the following headers are automatically added when proxying requests:"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Property"}),(0,d.jsx)(s.th,{children:"HTTP Header"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Client's IP"}),(0,d.jsx)(s.td,{children:"X-Forwarded-For, X-Real-Ip"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Host"}),(0,d.jsx)(s.td,{children:"X-Forwarded-Host"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Port"}),(0,d.jsx)(s.td,{children:"X-Forwarded-Port"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Protocol"}),(0,d.jsx)(s.td,{children:"X-Forwarded-Proto"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Proxy Server's Hostname"}),(0,d.jsx)(s.td,{children:"X-Forwarded-Server"})]})]})]}),"\n",(0,d.jsx)(s.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,d.jsx)(s.h3,{id:"adding-headers-to-the-request-and-the-response",children:"Adding Headers to the Request and the Response"}),"\n",(0,d.jsxs)(s.p,{children:["The following example adds the ",(0,d.jsx)(s.code,{children:"X-Script-Name"})," header to the proxied request and the ",(0,d.jsx)(s.code,{children:"X-Custom-Response-Header"})," header to the response"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Structured (YAML)"',children:'http:\n  middlewares:\n    testHeader:\n      headers:\n        customRequestHeaders:\n          X-Script-Name: "test"\n        customResponseHeaders:\n          X-Custom-Response-Header: "value"\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-toml",metastring:'tab="Structured (TOML)"',children:'[http.middlewares]\n  [http.middlewares.testHeader.headers]\n    [http.middlewares.testHeader.headers.customRequestHeaders]\n        X-Script-Name = "test"\n    [http.middlewares.testHeader.headers.customResponseHeaders]\n        X-Custom-Response-Header = "value"\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Labels"',children:'labels:\n  - "Mesh.http.middlewares.testHeader.headers.customrequestheaders.X-Script-Name=test"\n  - "Mesh.http.middlewares.testHeader.headers.customresponseheaders.X-Custom-Response-Header=value"\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-json",metastring:'tab="Tags"',children:'{\n  //...\n  "Tags": [\n    "Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Script-Name=test",\n    "Mesh.http.middlewares.testheader.headers.customresponseheaders.X-Custom-Response-Header=value"\n  ]\n}\n\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Kubernetes"',children:'apiVersion: Mesh.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: test-header\nspec:\n  headers:\n    customRequestHeaders:\n      X-Script-Name: "test"\n    customResponseHeaders:\n      X-Custom-Response-Header: "value"\n'})}),"\n",(0,d.jsx)(s.h3,{id:"adding-and-removing-headers",children:"Adding and Removing Headers"}),"\n",(0,d.jsxs)(s.p,{children:["In the following example, requests are proxied with an extra ",(0,d.jsx)(s.code,{children:"X-Script-Name"})," header while their ",(0,d.jsx)(s.code,{children:"X-Custom-Request-Header"})," header gets stripped,\nand responses are stripped of their ",(0,d.jsx)(s.code,{children:"X-Custom-Response-Header"})," header."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Structured (YAML)"',children:'http:\n  middlewares:\n    testHeader:\n      headers:\n        customRequestHeaders:\n          X-Script-Name: "test" # Adds\n          X-Custom-Request-Header: "" # Removes\n        customResponseHeaders:\n          X-Custom-Response-Header: "" # Removes\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-toml",metastring:'tab="Structured (TOML)"',children:'[http.middlewares]\n  [http.middlewares.testHeader.headers]\n    [http.middlewares.testHeader.headers.customRequestHeaders]\n        X-Script-Name = "test" # Adds\n        X-Custom-Request-Header = "" # Removes\n    [http.middlewares.testHeader.headers.customResponseHeaders]\n        X-Custom-Response-Header = "" # Removes\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Labels"',children:'labels:\n  - "Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Script-Name=test"\n  - "Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Custom-Request-Header="\n  - "Mesh.http.middlewares.testheader.headers.customresponseheaders.X-Custom-Response-Header="\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-json",metastring:'tab="Tags"',children:'{\n  "Tags" : [\n    "Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Script-Name=test",\n    "Mesh.http.middlewares.testheader.headers.customrequestheaders.X-Custom-Request-Header=",\n    "Mesh.http.middlewares.testheader.headers.customresponseheaders.X-Custom-Response-Header="\n  ]\n}\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Kubernetes"',children:'apiVersion: Mesh.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: test-header\nspec:\n  headers:\n    customRequestHeaders:\n      X-Script-Name: "test" # Adds\n      X-Custom-Request-Header: "" # Removes\n    customResponseHeaders:\n      X-Custom-Response-Header: "" # Removes\n'})}),"\n",(0,d.jsx)(s.h3,{id:"using-security-headers",children:"Using Security Headers"}),"\n",(0,d.jsx)(s.p,{children:"Security-related headers (HSTS headers, Browser XSS filter, etc) can be managed similarly to custom headers as shown above.\nThis functionality makes it possible to easily use security features by adding headers."}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Structured (YAML)"',children:"http:\n  middlewares:\n    testHeader:\n      headers:\n        frameDeny: true\n        browserXssFilter: true\n"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-toml",metastring:'tab="Structured (TOML)"',children:"[http.middlewares]\n  [http.middlewares.testHeader.headers]\n    frameDeny = true\n    browserXssFilter = true\n"})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Labels"',children:'labels:\n  - "Mesh.http.middlewares.testHeader.headers.framedeny=true"\n  - "Mesh.http.middlewares.testHeader.headers.browserxssfilter=true"\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-json",metastring:'tab="Tags"',children:'{\n  "Tags" : [\n    "Mesh.http.middlewares.testheader.headers.framedeny=true",\n    "Mesh.http.middlewares.testheader.headers.browserxssfilter=true"\n  ]\n}\n\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Kubernetes"',children:"apiVersion: Mesh.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: test-header\nspec:\n  headers:\n    frameDeny: true\n    browserXssFilter: true\n"})}),"\n",(0,d.jsx)(s.h3,{id:"cors-headers",children:"CORS Headers"}),"\n",(0,d.jsxs)(s.p,{children:["CORS (Cross-Origin Resource Sharing) headers can be added and configured in a manner similar to the custom headers above.\nThis functionality allows for more advanced security features to quickly be set.\nIf CORS headers are set, then the middleware does not pass preflight requests to any service,\ninstead the response will be generated and sent back to the client directly.",(0,d.jsx)(s.br,{}),"\n","Please note that the example below is by no means authoritative or exhaustive,\nand should not be used as is for production."]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Structured (YAML)"',children:'http:\n  middlewares:\n    testHeader:\n      headers:\n        accessControlAllowMethods:\n          - GET\n          - OPTIONS\n          - PUT\n        accessControlAllowHeaders: "*"\n        accessControlAllowOriginList:\n          - https://foo.bar.org\n          - https://example.org\n        accessControlMaxAge: 100\n        addVaryHeader: true\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-toml",metastring:'tab="Structured (TOML)"',children:'[http.middlewares]\n  [http.middlewares.testHeader.headers]\n    accessControlAllowMethods = ["GET", "OPTIONS", "PUT"]\n    accessControlAllowHeaders = [ "*" ]\n    accessControlAllowOriginList = ["https://foo.bar.org","https://example.org"]\n    accessControlMaxAge = 100\n    addVaryHeader = true\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Labels"',children:'labels:\n  - "Mesh.http.middlewares.testheader.headers.accesscontrolallowmethods=GET,OPTIONS,PUT"\n  - "Mesh.http.middlewares.testheader.headers.accesscontrolallowheaders=*"\n  - "Mesh.http.middlewares.testheader.headers.accesscontrolalloworiginlist=https://foo.bar.org,https://example.org"\n  - "Mesh.http.middlewares.testheader.headers.accesscontrolmaxage=100"\n  - "Mesh.http.middlewares.testheader.headers.addvaryheader=true"\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-json",metastring:'tab="Tags"',children:'{\n  "Tags" : [\n    "Mesh.http.middlewares.testheader.headers.accesscontrolallowmethods=GET,OPTIONS,PUT",\n     "Mesh.http.middlewares.testheader.headers.accesscontrolallowheaders=*",\n    "Mesh.http.middlewares.testheader.headers.accesscontrolalloworiginlist=https://foo.bar.org,https://example.org",\n    "Mesh.http.middlewares.testheader.headers.accesscontrolmaxage=100",\n    "Mesh.http.middlewares.testheader.headers.addvaryheader=true"\n  ]\n}\n'})}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-yaml",metastring:'tab="Kubernetes"',children:'apiVersion: Mesh.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: test-header\nspec:\n  headers:\n    accessControlAllowMethods:\n      - "GET"\n      - "OPTIONS"\n      - "PUT"\n    accessControlAllowHeaders:\n      - "*"\n    accessControlAllowOriginList:\n      - "https://foo.bar.org"\n      - "https://example.org"\n    accessControlMaxAge: 100\n    addVaryHeader: true\n'})}),"\n",(0,d.jsx)(s.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,d.jsx)(s.p,{children:"!!! warning"}),"\n",(0,d.jsx)(s.p,{children:"Custom headers will overwrite existing headers if they have identical names."}),"\n",(0,d.jsx)(s.p,{children:'!!! note ""'}),"\n",(0,d.jsxs)(s.p,{children:["The detailed documentation for security headers can be found in ",(0,d.jsx)(s.a,{href:"https://github.com/unrolled/secure#available-options",children:"unrolled/secure"}),"."]}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Description"}),(0,d.jsx)(s.th,{children:"Default"}),(0,d.jsx)(s.th,{children:"Required"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"customRequestHeaders"})}),(0,d.jsx)(s.td,{children:"Lists the header names and values for requests."}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"customResponseHeaders"})}),(0,d.jsx)(s.td,{children:"Lists the header names and values for responses."}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"accessControlAllowCredentials"})}),(0,d.jsx)(s.td,{children:"Indicates if the request can include user credentials."}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"accessControlAllowHeaders"})}),(0,d.jsx)(s.td,{children:"Specifies allowed request header names."}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"accessControlAllowMethods"})}),(0,d.jsx)(s.td,{children:"Specifies allowed request methods."}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"accessControlAllowOriginList"})}),(0,d.jsxs)(s.td,{children:["Specifies allowed origins. More information ",(0,d.jsx)(s.a,{href:"#accesscontrolalloworiginlist",children:"here"})]}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"accessControlAllowOriginListRegex"})}),(0,d.jsxs)(s.td,{children:["Allows origins matching regex. More information ",(0,d.jsx)(s.a,{href:"#accesscontrolalloworiginlistregex",children:"here"})]}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"accessControlExposeHeaders"})}),(0,d.jsx)(s.td,{children:"Specifies which headers are safe to expose to the API of a CORS API specification."}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"accessControlMaxAge"})}),(0,d.jsx)(s.td,{children:"Time (in seconds) to cache preflight requests."}),(0,d.jsx)(s.td,{children:"0"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"addVaryHeader"})}),(0,d.jsxs)(s.td,{children:["Used in conjunction with ",(0,d.jsx)(s.code,{children:"accessControlAllowOriginList"})," to determine whether the ",(0,d.jsx)(s.code,{children:"Vary"})," header should be added or modified to demonstrate that server responses can differ based on the value of the origin header."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"allowedHosts"})}),(0,d.jsx)(s.td,{children:"Lists allowed domain names."}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"hostsProxyHeaders"})}),(0,d.jsx)(s.td,{children:"Specifies header keys for proxied hostname."}),(0,d.jsx)(s.td,{children:"[]"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sslProxyHeaders"})}),(0,d.jsxs)(s.td,{children:["Defines a set of header keys with associated values that would indicate a valid HTTPS request. It can be useful when using other proxies (example: ",(0,d.jsx)(s.code,{children:'"X-Forwarded-Proto": "https"'}),")."]}),(0,d.jsx)(s.td,{}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"stsSeconds"})}),(0,d.jsxs)(s.td,{children:["Max age for ",(0,d.jsx)(s.code,{children:"Strict-Transport-Security"})," header."]}),(0,d.jsx)(s.td,{children:"0"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"stsIncludeSubdomains"})}),(0,d.jsxs)(s.td,{children:["If set to ",(0,d.jsx)(s.code,{children:"true"}),", the ",(0,d.jsx)(s.code,{children:"includeSubDomains"})," directive is appended to the ",(0,d.jsx)(s.code,{children:"Strict-Transport-Security"})," header."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"stsPreload"})}),(0,d.jsx)(s.td,{children:"Adds preload flag to STS header."}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"forceSTSHeader"})}),(0,d.jsx)(s.td,{children:"Adds STS header for HTTP connections."}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"frameDeny"})}),(0,d.jsxs)(s.td,{children:["Set ",(0,d.jsx)(s.code,{children:"frameDeny"})," to ",(0,d.jsx)(s.code,{children:"true"})," to add the ",(0,d.jsx)(s.code,{children:"X-Frame-Options"})," header with the value of ",(0,d.jsx)(s.code,{children:"DENY"}),"."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"customFrameOptionsValue"})}),(0,d.jsxs)(s.td,{children:["allows the ",(0,d.jsx)(s.code,{children:"X-Frame-Options"})," header value to be set with a custom value. This overrides the ",(0,d.jsx)(s.code,{children:"FrameDeny"})," option."]}),(0,d.jsx)(s.td,{children:'""'}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"contentTypeNosniff"})}),(0,d.jsxs)(s.td,{children:["Set ",(0,d.jsx)(s.code,{children:"contentTypeNosniff"})," to true to add the ",(0,d.jsx)(s.code,{children:"X-Content-Type-Options"})," header with the value ",(0,d.jsx)(s.code,{children:"nosniff"}),"."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"browserXssFilter"})}),(0,d.jsxs)(s.td,{children:["Set ",(0,d.jsx)(s.code,{children:"browserXssFilter"})," to true to add the ",(0,d.jsx)(s.code,{children:"X-XSS-Protection"})," header with the value ",(0,d.jsx)(s.code,{children:"1; mode=block"}),"."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"customBrowserXSSValue"})}),(0,d.jsxs)(s.td,{children:["allows the ",(0,d.jsx)(s.code,{children:"X-XSS-Protection"})," header value to be set with a custom value. This overrides the ",(0,d.jsx)(s.code,{children:"BrowserXssFilter"})," option."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"contentSecurityPolicy"})}),(0,d.jsxs)(s.td,{children:["allows the ",(0,d.jsx)(s.code,{children:"Content-Security-Policy"})," header value to be set with a custom value."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"contentSecurityPolicyReportOnly"})}),(0,d.jsxs)(s.td,{children:["allows the ",(0,d.jsx)(s.code,{children:"Content-Security-Policy-Report-Only"})," header value to be set with a custom value."]}),(0,d.jsx)(s.td,{children:'""'}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"publicKey"})}),(0,d.jsx)(s.td,{children:"Implements HPKP for certificate pinning."}),(0,d.jsx)(s.td,{children:'""'}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"referrerPolicy"})}),(0,d.jsxs)(s.td,{children:["Controls forwarding of ",(0,d.jsx)(s.code,{children:"Referer"})," header."]}),(0,d.jsx)(s.td,{children:'""'}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"permissionsPolicy"})}),(0,d.jsx)(s.td,{children:"allows sites to control browser features."}),(0,d.jsx)(s.td,{children:'""'}),(0,d.jsx)(s.td,{children:"No"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isDevelopment"})}),(0,d.jsxs)(s.td,{children:["Set ",(0,d.jsx)(s.code,{children:"true"})," when developing to mitigate the unwanted effects of the ",(0,d.jsx)(s.code,{children:"AllowedHosts"}),", SSL, and STS options. Usually testing takes place using HTTP, not HTTPS, and on ",(0,d.jsx)(s.code,{children:"localhost"}),", not your production domain."]}),(0,d.jsx)(s.td,{children:"false"}),(0,d.jsx)(s.td,{children:"No"})]})]})]}),"\n",(0,d.jsx)(s.h3,{id:"accesscontrolalloworiginlist",children:(0,d.jsx)(s.code,{children:"accessControlAllowOriginList"})}),"\n",(0,d.jsxs)(s.p,{children:["The ",(0,d.jsx)(s.code,{children:"accessControlAllowOriginList"})," indicates whether a resource can be shared by returning different values."]}),"\n",(0,d.jsxs)(s.p,{children:["A wildcard origin ",(0,d.jsx)(s.code,{children:"*"})," can also be configured, and matches all requests.\nIf this value is set by a backend service, it will be overwritten by Mesh."]}),"\n",(0,d.jsx)(s.p,{children:"This value can contain a list of allowed origins."}),"\n",(0,d.jsx)(s.p,{children:"More information including how to use the settings can be found at:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin",children:"Mozilla.org"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"https://fetch.spec.whatwg.org/#http-access-control-allow-origin",children:"w3"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.a,{href:"https://tools.ietf.org/html/rfc6454#section-7.1",children:"IETF"})}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:["Mesh no longer supports the ",(0,d.jsx)(s.code,{children:"null"})," value, as it is ",(0,d.jsx)(s.a,{href:"https://w3c.github.io/webappsec-cors-for-developers/#avoid-returning-access-control-allow-origin-null",children:"no longer recommended as a return value"}),"."]}),"\n",(0,d.jsx)(s.h3,{id:"accesscontrolalloworiginlistregex",children:(0,d.jsx)(s.code,{children:"accessControlAllowOriginListRegex"})}),"\n",(0,d.jsxs)(s.p,{children:["The ",(0,d.jsx)(s.code,{children:"accessControlAllowOriginListRegex"})," option is the counterpart of the ",(0,d.jsx)(s.code,{children:"accessControlAllowOriginList"})," option with regular expressions instead of origin values.\nIt allows all origins that contain any match of a regular expression in the ",(0,d.jsx)(s.code,{children:"accessControlAllowOriginList"}),"."]}),"\n",(0,d.jsx)(s.p,{children:"!!! tip"}),"\n",(0,d.jsxs)(s.p,{children:["Regular expressions and replacements can be tested using online tools such as ",(0,d.jsx)(s.a,{href:"https://play.golang.org/p/mWU9p-wk2ru",children:"Go Playground"})," or the ",(0,d.jsx)(s.a,{href:"https://regex101.com/r/58sIgx/2",children:"Regex101"}),"."]}),"\n",(0,d.jsxs)(s.p,{children:["When defining a regular expression within YAML, any escaped character needs to be escaped twice: ",(0,d.jsx)(s.code,{children:"example\\.com"})," needs to be written as ",(0,d.jsx)(s.code,{children:"example\\\\.com"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}}}]);